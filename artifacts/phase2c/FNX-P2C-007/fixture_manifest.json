{
  "schema_version": "1.0.0",
  "packet_id": "FNX-P2C-007",
  "fixture_ids": [
    "generated/generators_path_strict.json",
    "generated/generators_cycle_strict.json",
    "generated/generators_complete_strict.json"
  ],
  "oracle_source": "legacy_networkx",
  "generated_at_utc": "2026-02-18T08:32:00Z",
  "legacy_paths": [
    "networkx/generators/"
  ],
  "legacy_symbols": [
    "path_graph",
    "cycle_graph",
    "complete_graph",
    "empty_graph"
  ],
  "graph_mutation_contract": "Primary graph mutation invariants enforced when packet touches graph state.",
  "view_cache_contract": "View cache coherence must remain deterministic and revision-safe.",
  "dispatch_backend_contract": "Backend routing must be deterministic and fail-closed on unknown incompatibility.",
  "conversion_readwrite_contract": "Conversion and serialization outputs preserve scoped legacy semantics.",
  "error_contract": "Strict fail-closed; hardened bounded defensive handling with audit.",
  "strict_mode_policy": "Exact NetworkX-observable behavior for scoped APIs.",
  "hardened_mode_policy": "Preserve API contract with bounded defensive controls and deterministic recovery evidence.",
  "excluded_scope": [
    "out-of-scope upstream API families not yet activated for this packet",
    "unsafe non-clean-room implementation techniques"
  ],
  "oracle_tests": [
    "networkx/generators/tests/"
  ],
  "performance_sentinels": [
    "artifacts/perf/BASELINE_BFS_V1.md",
    "artifacts/perf/phase2c/perf_baseline_matrix_v1.json",
    "artifacts/perf/phase2c/hotspot_one_lever_backlog_v1.json",
    "artifacts/perf/phase2c/perf_regression_gate_report_v1.json",
    "artifacts/perf/phase2c/isomorphism_harness_report_v1.json",
    "artifacts/proofs/ISOMORPHISM_PROOF_FNX_P2C_007_V1.md"
  ],
  "compatibility_risks": [
    "seed interpretation drift",
    "edge emission order drift"
  ],
  "raptorq_artifacts": {
    "legacy_anchor_map": "artifacts/phase2c/FNX-P2C-007/legacy_anchor_map.md",
    "contract_table": "artifacts/phase2c/FNX-P2C-007/contract_table.md",
    "fixture_manifest": "artifacts/phase2c/FNX-P2C-007/fixture_manifest.json",
    "parity_gate": "artifacts/phase2c/FNX-P2C-007/parity_gate.yaml",
    "risk_note": "artifacts/phase2c/FNX-P2C-007/risk_note.md",
    "parity_report": "artifacts/phase2c/FNX-P2C-007/parity_report.json",
    "raptorq_sidecar": "artifacts/phase2c/FNX-P2C-007/parity_report.raptorq.json",
    "decode_proof": "artifacts/phase2c/FNX-P2C-007/parity_report.decode_proof.json"
  },
  "module_boundary_skeleton": [
    {
      "boundary_id": "P2C007-MB-1",
      "crate": "fnx-generators",
      "module_path": "crates/fnx-generators/src/lib.rs",
      "public_seam": "pub fn complete_graph",
      "internal_ownership": "complete_graph node-container normalization, deterministic edge materialization for Graph/DiGraph constructors, and duplicate-node compatibility handling",
      "legacy_compat_surface": "networkx.generators.classic.complete_graph",
      "threat_boundary_refs": [
        "P2C007-CB-2",
        "P2C007-CB-3",
        "P2C007-CB-4"
      ],
      "compile_check": "cargo test -p fnx-generators -- --nocapture",
      "parallel_owner_scope": "complete_graph semantics and determinism probes only"
    },
    {
      "boundary_id": "P2C007-MB-2",
      "crate": "fnx-generators",
      "module_path": "crates/fnx-generators/src/lib.rs",
      "public_seam": "pub fn cycle_graph / pub fn path_graph",
      "internal_ownership": "pairwise cyclic closure and iterable-order path emission semantics, including directed orientation and duplicate-label behavior parity",
      "legacy_compat_surface": "networkx.generators.classic.cycle_graph / networkx.generators.classic.path_graph",
      "threat_boundary_refs": [
        "P2C007-CB-2",
        "P2C007-CB-3",
        "P2C007-CB-4"
      ],
      "compile_check": "cargo check -p fnx-generators --all-targets",
      "parallel_owner_scope": "cycle/path ordering and closure semantics only"
    },
    {
      "boundary_id": "P2C007-MB-3",
      "crate": "fnx-generators",
      "module_path": "crates/fnx-generators/src/lib.rs",
      "public_seam": "pub fn empty_graph",
      "internal_ownership": "create_using dispatch ordering, graph-instance clear-before-populate invariants, and TypeError fail-closed envelopes for invalid graph-type inputs",
      "legacy_compat_surface": "networkx.generators.classic.empty_graph",
      "threat_boundary_refs": [
        "P2C007-CB-1",
        "P2C007-CB-5"
      ],
      "compile_check": "cargo test -p fnx-generators empty_graph -- --nocapture",
      "parallel_owner_scope": "empty_graph constructor/instance boundary only"
    },
    {
      "boundary_id": "P2C007-MB-4",
      "crate": "fnx-runtime",
      "module_path": "crates/fnx-runtime/src/lib.rs",
      "public_seam": "pub struct CgsePolicyEngine",
      "internal_ownership": "strict/hardened policy-row enforcement, allowlisted hardened deviation controls, and deterministic decision evidence emission for generator packet boundaries",
      "legacy_compat_surface": "strict/hardened compatibility envelope for generator classic family",
      "threat_boundary_refs": [
        "P2C007-CB-1",
        "P2C007-CB-3",
        "P2C007-CB-5"
      ],
      "compile_check": "cargo check -p fnx-runtime --all-targets",
      "parallel_owner_scope": "generator policy routing and evidence terms only"
    }
  ],
  "implementation_sequence": [
    {
      "checkpoint_id": "P2C007-SEQ-1",
      "order": 1,
      "depends_on": [],
      "objective": "Lock compile-checkable generator module seams and packet-boundary ownership before behavior changes.",
      "modules_touched": [
        "crates/fnx-generators/src/lib.rs",
        "crates/fnx-runtime/src/lib.rs"
      ],
      "verification_entrypoints": [
        "unit::fnx-p2c-007::boundary_shape",
        "cargo check -p fnx-generators"
      ],
      "structured_log_hooks": [
        "generators.boundary.complete_graph_ready",
        "generators.boundary.cycle_path_ready",
        "generators.boundary.empty_graph_ready"
      ],
      "risk_checkpoint": "fail if crate seam ownership or threat-boundary mapping is ambiguous"
    },
    {
      "checkpoint_id": "P2C007-SEQ-2",
      "order": 2,
      "depends_on": [
        "P2C007-SEQ-1"
      ],
      "objective": "Implement strict complete/cycle/path deterministic ordering and directedness parity with zero mismatch budget.",
      "modules_touched": [
        "crates/fnx-generators/src/lib.rs"
      ],
      "verification_entrypoints": [
        "networkx/generators/tests/test_classic.py:147-235",
        "differential::fnx-p2c-007::fixtures"
      ],
      "structured_log_hooks": [
        "generators.strict.edge_order_signature",
        "generators.strict.cycle_closure_signature"
      ],
      "risk_checkpoint": "halt if strict mode edge-order or directedness signature drifts"
    },
    {
      "checkpoint_id": "P2C007-SEQ-3",
      "order": 3,
      "depends_on": [
        "P2C007-SEQ-1",
        "P2C007-SEQ-2"
      ],
      "objective": "Finalize empty_graph create_using dispatch, instance-clear invariants, and fail-closed TypeError envelopes.",
      "modules_touched": [
        "crates/fnx-generators/src/lib.rs"
      ],
      "verification_entrypoints": [
        "networkx/generators/tests/test_classic.py:268-335",
        "adversarial::fnx-p2c-007::malformed_inputs"
      ],
      "structured_log_hooks": [
        "generators.empty_graph.create_using_dispatch",
        "generators.empty_graph.fail_closed_type_error"
      ],
      "risk_checkpoint": "fail on any create_using pathway that mutates state without clear-before-populate"
    },
    {
      "checkpoint_id": "P2C007-SEQ-4",
      "order": 4,
      "depends_on": [
        "P2C007-SEQ-2",
        "P2C007-SEQ-3"
      ],
      "objective": "Apply hardened allowlisted policy-row controls and deterministic diagnostic envelopes for generator threat classes.",
      "modules_touched": [
        "crates/fnx-runtime/src/lib.rs",
        "crates/fnx-generators/src/lib.rs"
      ],
      "verification_entrypoints": [
        "adversarial::fnx-p2c-007::ordering_drift",
        "adversarial::fnx-p2c-007::large_n_budget_blowup"
      ],
      "structured_log_hooks": [
        "generators.hardened.allowlisted_category",
        "generators.hardened.audit_envelope_emitted"
      ],
      "risk_checkpoint": "fail on any non-allowlisted hardened deviation category"
    },
    {
      "checkpoint_id": "P2C007-SEQ-5",
      "order": 5,
      "depends_on": [
        "P2C007-SEQ-4"
      ],
      "objective": "Run packet readiness/e2e/perf gates and publish replay-auditable evidence artifacts for handoff to packet test implementation beads.",
      "modules_touched": [
        "crates/fnx-conformance/tests/phase2c_packet_readiness_gate.rs",
        "scripts/run_phase2c_readiness_e2e.sh",
        "artifacts/phase2c/FNX-P2C-007/"
      ],
      "verification_entrypoints": [
        "cargo test -p fnx-conformance --test phase2c_packet_readiness_gate",
        "cargo test -p fnx-conformance --test e2e_script_pack_gate"
      ],
      "structured_log_hooks": [
        "generators.readiness.gate_result",
        "generators.e2e.replay_bundle"
      ],
      "risk_checkpoint": "stop on any strict/hardened parity, security, or budget gate mismatch"
    }
  ],
  "verification_entrypoints": [
    {
      "stage": "unit",
      "harness": "unit::fnx-p2c-007::contract",
      "structured_log_hook": "generators.unit.contract_asserted",
      "replay_metadata_fields": [
        "packet_id",
        "generator_name",
        "strict_mode",
        "fixture_id"
      ],
      "failure_forensics_artifact": "artifacts/conformance/latest/structured_logs.jsonl"
    },
    {
      "stage": "property",
      "harness": "property::fnx-p2c-007::invariants",
      "structured_log_hook": "generators.property.invariant_checkpoint",
      "replay_metadata_fields": [
        "seed",
        "graph_fingerprint",
        "mode_policy",
        "invariant_id"
      ],
      "failure_forensics_artifact": "artifacts/conformance/latest/structured_log_emitter_normalization_report.json"
    },
    {
      "stage": "differential",
      "harness": "differential::fnx-p2c-007::fixtures",
      "structured_log_hook": "generators.diff.oracle_comparison",
      "replay_metadata_fields": [
        "fixture_id",
        "oracle_ref",
        "edge_order_signature",
        "mismatch_count"
      ],
      "failure_forensics_artifact": "artifacts/phase2c/FNX-P2C-007/parity_report.json"
    },
    {
      "stage": "e2e",
      "harness": "e2e::fnx-p2c-007::golden_journey",
      "structured_log_hook": "generators.e2e.replay_emitted",
      "replay_metadata_fields": [
        "scenario_id",
        "thread_id",
        "trace_id",
        "forensics_bundle"
      ],
      "failure_forensics_artifact": "artifacts/conformance/latest/telemetry_dependent_unblock_matrix_v1.json"
    }
  ],
  "hardened_allowlisted_categories": [
    "bounded_diagnostic_enrichment",
    "deterministic_tie_break_normalization",
    "bounded_resource_clamp"
  ],
  "strict_divergence_note": "strict: preserve generator topology/order contracts with zero mismatch budget and fail closed on invalid create_using or unknown incompatible pathways",
  "hardened_divergence_note": "hardened: no topology/output drift allowed; divergence limited to bounded_diagnostic_enrichment metadata with deterministic replay evidence",
  "unknown_incompatibility_note": "unknown incompatible generator features or metadata paths fail closed unless explicitly allowlisted with deterministic audit evidence",
  "input_contract_rows": [
    {
      "row_id": "P2C007-IC-1",
      "api_behavior": "complete_graph node-container and create_using contract",
      "preconditions": "n resolves through nodes_or_number and create_using resolves to a valid graph constructor or instance",
      "strict_policy": "preserve complete_graph edge cardinality/orientation semantics exactly for Graph and DiGraph",
      "hardened_policy": "same observable graph-output contract; bounded diagnostic metadata allowed without shape drift",
      "anchor_regions": [
        "P2C007-R1",
        "P2C007-R3"
      ],
      "validation_refs": [
        "networkx/generators/tests/test_classic.py:147-182",
        "generated/generators_complete_strict.json"
      ]
    },
    {
      "row_id": "P2C007-IC-2",
      "api_behavior": "cycle_graph cyclic pairwise emission and directed orientation contract",
      "preconditions": "node ordering is fixed by input iterable/range and create_using is explicit",
      "strict_policy": "preserve pairwise(cyclic=True) closure ordering and directed edge orientation exactly",
      "hardened_policy": "same output ordering and direction contract with deterministic diagnostics only",
      "anchor_regions": [
        "P2C007-R2"
      ],
      "validation_refs": [
        "networkx/generators/tests/test_classic.py:212-235",
        "generated/generators_cycle_strict.json"
      ]
    },
    {
      "row_id": "P2C007-IC-3",
      "api_behavior": "path_graph iterable-order contract including duplicate-label behavior",
      "preconditions": "input iterable order is explicit and add-node/edge semantics are deterministic",
      "strict_policy": "preserve path edge emission in iterable order with legacy duplicate-label outcomes",
      "hardened_policy": "same path topology contract with deterministic diagnostics only",
      "anchor_regions": [
        "P2C007-R4"
      ],
      "validation_refs": [
        "networkx/generators/tests/test_classic.py:409-444",
        "generated/generators_path_strict.json"
      ]
    },
    {
      "row_id": "P2C007-IC-4",
      "api_behavior": "empty_graph graph-constructor and graph-instance clearing contract",
      "preconditions": "create_using is None, a graph type, or graph-like instance exposing adj",
      "strict_policy": "preserve constructor/instance dispatch and node insertion semantics exactly",
      "hardened_policy": "same constructor dispatch semantics; invalid graph-type inputs still fail closed",
      "anchor_regions": [
        "P2C007-R3"
      ],
      "validation_refs": [
        "networkx/generators/tests/test_classic.py:268-335",
        "networkx/generators/classic.py:667-680"
      ]
    }
  ],
  "output_contract_rows": [
    {
      "row_id": "P2C007-OC-1",
      "output_behavior": "complete_graph topology and edge-count parity",
      "postconditions": "node set and edge cardinality match legacy Graph/DiGraph observable behavior",
      "strict_policy": "zero mismatch budget for complete graph topology and orientation",
      "hardened_policy": "identical output contract; diagnostics are out-of-band and deterministic",
      "anchor_regions": [
        "P2C007-R1"
      ],
      "validation_refs": [
        "networkx/generators/tests/test_classic.py:147-182",
        "generated/generators_complete_strict.json"
      ]
    },
    {
      "row_id": "P2C007-OC-2",
      "output_behavior": "cycle_graph edge ordering and closure parity",
      "postconditions": "cycle closure and edge sequence remain deterministic under identical inputs",
      "strict_policy": "preserve canonical cycle closure order with zero mismatch budget",
      "hardened_policy": "same closure/order contract; no topology-changing repair",
      "anchor_regions": [
        "P2C007-R2"
      ],
      "validation_refs": [
        "networkx/generators/tests/test_classic.py:212-235",
        "generated/generators_cycle_strict.json"
      ]
    },
    {
      "row_id": "P2C007-OC-3",
      "output_behavior": "path_graph ordered edge emission parity",
      "postconditions": "path edges follow iterable order and directed orientation semantics exactly",
      "strict_policy": "preserve ordered path construction with zero output drift tolerance",
      "hardened_policy": "same ordered-path output contract; deterministic diagnostics only",
      "anchor_regions": [
        "P2C007-R4"
      ],
      "validation_refs": [
        "networkx/generators/tests/test_classic.py:409-444",
        "generated/generators_path_strict.json"
      ]
    },
    {
      "row_id": "P2C007-OC-4",
      "output_behavior": "empty_graph class selection and zero-edge guarantees",
      "postconditions": "returned graph class and node count match create_using/default contract",
      "strict_policy": "preserve class dispatch and zero-edge postcondition exactly",
      "hardened_policy": "same output contract; invalid constructor pathways remain fail-closed",
      "anchor_regions": [
        "P2C007-R3"
      ],
      "validation_refs": [
        "networkx/generators/tests/test_classic.py:268-335",
        "networkx/generators/classic.py:667-680"
      ]
    }
  ],
  "error_contract_rows": [
    {
      "row_id": "P2C007-EC-1",
      "trigger": "empty_graph receives create_using value without graph constructor/instance semantics",
      "strict_behavior": "raise deterministic TypeError and fail closed",
      "hardened_behavior": "same fail-closed TypeError envelope with deterministic audit metadata only",
      "allowlisted_divergence_category": "bounded_diagnostic_enrichment",
      "anchor_regions": [
        "P2C007-R3"
      ],
      "validation_refs": [
        "networkx/generators/classic.py:671-673",
        "networkx/generators/tests/test_classic.py:271-273"
      ]
    },
    {
      "row_id": "P2C007-EC-2",
      "trigger": "unknown incompatible generator feature/metadata path enters packet boundary",
      "strict_behavior": "fail closed with deterministic incompatibility envelope",
      "hardened_behavior": "fail closed by default; diagnostics may annotate allowlisted context only",
      "allowlisted_divergence_category": "none",
      "anchor_regions": [
        "P2C007-R1",
        "P2C007-R2",
        "P2C007-R3",
        "P2C007-R4"
      ],
      "validation_refs": [
        "artifacts/phase2c/FNX-P2C-007/parity_gate.yaml",
        "adversarial::fnx-p2c-007::malformed_inputs"
      ]
    }
  ],
  "determinism_rows": [
    {
      "row_id": "P2C007-DC-1",
      "commitment": "complete_graph edge materialization is deterministic",
      "tie_break_rule": "undirected uses combinations; directed uses permutations over stable node order",
      "anchor_regions": [
        "P2C007-R1"
      ],
      "validation_refs": [
        "networkx/generators/classic.py:354-358",
        "networkx/generators/tests/test_classic.py:147-182"
      ]
    },
    {
      "row_id": "P2C007-DC-2",
      "commitment": "cycle_graph closure ordering is deterministic",
      "tie_break_rule": "pairwise(cyclic=True) preserves input node sequence and single closure edge",
      "anchor_regions": [
        "P2C007-R2"
      ],
      "validation_refs": [
        "networkx/generators/classic.py:503-505",
        "networkx/generators/tests/test_classic.py:212-235"
      ]
    },
    {
      "row_id": "P2C007-DC-3",
      "commitment": "path_graph edge emission is deterministic under iterable input",
      "tie_break_rule": "pairwise preserves iterable order and directed orientation",
      "anchor_regions": [
        "P2C007-R4"
      ],
      "validation_refs": [
        "networkx/generators/classic.py:806-809",
        "networkx/generators/tests/test_classic.py:409-444"
      ]
    },
    {
      "row_id": "P2C007-DC-4",
      "commitment": "empty_graph node insertion order and class dispatch are deterministic",
      "tie_break_rule": "create_using dispatch order is None -> type -> graph instance with clear()",
      "anchor_regions": [
        "P2C007-R3"
      ],
      "validation_refs": [
        "networkx/generators/classic.py:667-680",
        "networkx/generators/tests/test_classic.py:268-335"
      ]
    }
  ],
  "invariant_rows": [
    {
      "row_id": "P2C007-IV-1",
      "precondition": "generator family complete/cycle/path is invoked with scoped create_using",
      "postcondition": "output topology, edge orientation, and node identity match legacy-observable contract",
      "preservation_obligation": "strict mode forbids any repair that changes generated edge set, order, or directedness",
      "anchor_regions": [
        "P2C007-R1",
        "P2C007-R2",
        "P2C007-R4"
      ],
      "validation_refs": [
        "generated/generators_complete_strict.json",
        "generated/generators_cycle_strict.json",
        "generated/generators_path_strict.json",
        "differential::fnx-p2c-007::fixtures"
      ]
    },
    {
      "row_id": "P2C007-IV-2",
      "precondition": "empty_graph receives constructor/instance create_using pathways",
      "postcondition": "result graph class and node-set cardinality remain deterministic with zero edges",
      "preservation_obligation": "both modes preserve create_using dispatch behavior and fail closed on invalid graph-type inputs",
      "anchor_regions": [
        "P2C007-R3"
      ],
      "validation_refs": [
        "networkx/generators/tests/test_classic.py:268-335",
        "unit::fnx-p2c-007::contract"
      ]
    },
    {
      "row_id": "P2C007-IV-3",
      "precondition": "hardened mode emits diagnostics under adversarial or malformed generator requests",
      "postcondition": "diagnostics remain deterministic and do not alter returned graph topology",
      "preservation_obligation": "hardened divergence is bounded to allowlisted diagnostic metadata and remains replay-auditable",
      "anchor_regions": [
        "P2C007-R1",
        "P2C007-R2",
        "P2C007-R3",
        "P2C007-R4"
      ],
      "validation_refs": [
        "adversarial::fnx-p2c-007::malformed_inputs",
        "e2e::fnx-p2c-007::golden_journey"
      ]
    }
  ]
}
