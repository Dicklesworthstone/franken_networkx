{
  "schema_version": "1.0.0",
  "ledger_id": "fnx-phase2c-essence-ledger-v1",
  "generated_at_utc": "2026-02-14T06:40:00Z",
  "baseline_comparator": "legacy_networkx/main@python3.12",
  "goal": "Absolute drop-in parity with legacy NetworkX scoped behavior, plus proof-backed optimization and durability.",
  "packets": [
    {
      "packet_id": "FNX-P2C-FOUNDATION",
      "legacy_paths": [
        "networkx/classes",
        "networkx/algorithms",
        "networkx/readwrite"
      ],
      "legacy_symbols": [
        "phase2c packet readiness contracts"
      ],
      "graph_mutation_contract": "Mutations preserve deterministic adjacency semantics and observable output parity.",
      "view_cache_contract": "View/cache interactions remain deterministic with explicit revision invalidation.",
      "dispatch_backend_contract": "Backend route selection is deterministic and fail-closed for unknown incompatible features.",
      "conversion_readwrite_contract": "Conversion/readwrite flows preserve scoped legacy contract across strict and hardened modes.",
      "error_contract": "Strict fail-closed; hardened bounded recoveries only when allowlisted.",
      "strict_mode_policy": "Exact scoped compatibility with legacy-observable outputs.",
      "hardened_mode_policy": "Same API contract plus bounded defensive guards and deterministic recovery evidence.",
      "excluded_scope": [
        "legacy implementation reuse (clean-room enforcement)",
        "unscoped upstream APIs not yet admitted by packet roadmap"
      ],
      "oracle_tests": [
        "cross-family conformance smoke suite"
      ],
      "performance_sentinels": [
        "artifacts/perf/BASELINE_BFS_V1.md",
        "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      ],
      "compatibility_risks": [
        "schema drift",
        "packet omission"
      ],
      "behavior_region_map": [],
      "raptorq_artifacts": {
        "legacy_anchor_map": "artifacts/phase2c/FNX-P2C-FOUNDATION/legacy_anchor_map.md",
        "contract_table": "artifacts/phase2c/FNX-P2C-FOUNDATION/contract_table.md",
        "fixture_manifest": "artifacts/phase2c/FNX-P2C-FOUNDATION/fixture_manifest.json",
        "parity_gate": "artifacts/phase2c/FNX-P2C-FOUNDATION/parity_gate.yaml",
        "risk_note": "artifacts/phase2c/FNX-P2C-FOUNDATION/risk_note.md",
        "parity_report": "artifacts/phase2c/FNX-P2C-FOUNDATION/parity_report.json",
        "raptorq_sidecar": "artifacts/phase2c/FNX-P2C-FOUNDATION/parity_report.raptorq.json",
        "decode_proof": "artifacts/phase2c/FNX-P2C-FOUNDATION/parity_report.decode_proof.json"
      },
      "invariants": [
        {
          "invariant_id": "FNX-P2C-FOUNDATION-I1",
          "statement": "Phase2C governance foundation output contract is deterministic and parity-preserving.",
          "behavioral_boundary": "FNX-P2C-FOUNDATION scoped APIs only.",
          "legacy_ambiguity": "future packet schema evolution",
          "policy_decision": "explicit version lock and migration gates",
          "compatibility_rationale": "prevents hidden drift across packet families",
          "verification_hooks": {
            "unit": [
              "unit::fnx-p2c-foundation::contract"
            ],
            "property": [
              "property::fnx-p2c-foundation::invariants"
            ],
            "differential": [
              "differential::fnx-p2c-foundation::fixtures"
            ],
            "adversarial": [
              "adversarial::fnx-p2c-foundation::malformed_inputs"
            ],
            "e2e": [
              "e2e::fnx-p2c-foundation::golden_journey"
            ]
          }
        }
      ],
      "alien_uplift_contract_card": {
        "ev_score": 2.4,
        "baseline_comparator": "legacy_networkx/main@python3.12",
        "optimization_lever": "validator single-pass artifact key dispatch",
        "decision_hypothesis": "Apply one lever after profiling, then prove behavior isomorphic before retaining optimization."
      },
      "profile_first_artifacts": {
        "baseline": "artifacts/perf/BASELINE_BFS_V1.md",
        "hotspot": "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "delta": "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      },
      "decision_theoretic_runtime_contract": {
        "states": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "actions": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "loss_model": "minimize compatibility drift + security risk under deterministic constraints",
        "safe_mode_fallback": "fail_closed",
        "fallback_thresholds": {
          "unknown_incompatible_feature": true,
          "risk_probability_full_validate_min": 0.25
        }
      },
      "isomorphism_proof_artifacts": [
        "artifacts/proofs/ISOMORPHISM_PROOF_FNX_P2C_FOUNDATION_V1.md"
      ],
      "structured_logging_evidence": [
        "artifacts/conformance/latest/structured_logs.jsonl",
        "artifacts/conformance/latest/structured_log_emitter_normalization_report.json",
        "artifacts/conformance/latest/telemetry_dependent_unblock_matrix_v1.json"
      ]
    },
    {
      "packet_id": "FNX-P2C-001",
      "legacy_paths": [
        "networkx/classes/graph.py",
        "networkx/classes/digraph.py",
        "networkx/classes/multigraph.py",
        "networkx/classes/multidigraph.py"
      ],
      "legacy_symbols": [
        "Graph",
        "DiGraph",
        "MultiGraph",
        "MultiDiGraph",
        "_CachedPropertyResetterAdj"
      ],
      "graph_mutation_contract": "Mutations preserve deterministic adjacency semantics and observable output parity.",
      "view_cache_contract": "View/cache interactions remain deterministic with explicit revision invalidation.",
      "dispatch_backend_contract": "Backend route selection is deterministic and fail-closed for unknown incompatible features.",
      "conversion_readwrite_contract": "Conversion/readwrite flows preserve scoped legacy contract across strict and hardened modes.",
      "error_contract": "Strict fail-closed; hardened bounded recoveries only when allowlisted.",
      "strict_mode_policy": "Exact scoped compatibility with legacy-observable outputs.",
      "hardened_mode_policy": "Same API contract plus bounded defensive guards and deterministic recovery evidence.",
      "excluded_scope": [
        "legacy implementation reuse (clean-room enforcement)",
        "unscoped upstream APIs not yet admitted by packet roadmap"
      ],
      "oracle_tests": [
        "networkx/classes/tests/test_graph.py",
        "networkx/classes/tests/test_digraph.py",
        "networkx/classes/tests/test_multigraph.py"
      ],
      "performance_sentinels": [
        "artifacts/perf/BASELINE_BFS_V1.md",
        "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      ],
      "compatibility_risks": [
        "adjacency mutation drift",
        "edge attribute merge precedence drift"
      ],
      "behavior_region_map": [],
      "raptorq_artifacts": {
        "legacy_anchor_map": "artifacts/phase2c/FNX-P2C-001/legacy_anchor_map.md",
        "contract_table": "artifacts/phase2c/FNX-P2C-001/contract_table.md",
        "fixture_manifest": "artifacts/phase2c/FNX-P2C-001/fixture_manifest.json",
        "parity_gate": "artifacts/phase2c/FNX-P2C-001/parity_gate.yaml",
        "risk_note": "artifacts/phase2c/FNX-P2C-001/risk_note.md",
        "parity_report": "artifacts/phase2c/FNX-P2C-001/parity_report.json",
        "raptorq_sidecar": "artifacts/phase2c/FNX-P2C-001/parity_report.raptorq.json",
        "decode_proof": "artifacts/phase2c/FNX-P2C-001/parity_report.decode_proof.json"
      },
      "invariants": [
        {
          "invariant_id": "FNX-P2C-001-I1",
          "statement": "Graph core semantics output contract is deterministic and parity-preserving.",
          "behavioral_boundary": "FNX-P2C-001 scoped APIs only.",
          "legacy_ambiguity": "implicit dict ordering interaction in mutation traces",
          "policy_decision": "canonicalize by lexical endpoint order before emit",
          "compatibility_rationale": "matches observable NetworkX edge ordering in scoped fixtures",
          "verification_hooks": {
            "unit": [
              "unit::fnx-p2c-001::contract"
            ],
            "property": [
              "property::fnx-p2c-001::invariants"
            ],
            "differential": [
              "differential::fnx-p2c-001::fixtures"
            ],
            "adversarial": [
              "adversarial::fnx-p2c-001::malformed_inputs"
            ],
            "e2e": [
              "e2e::fnx-p2c-001::golden_journey"
            ]
          }
        }
      ],
      "alien_uplift_contract_card": {
        "ev_score": 2.4,
        "baseline_comparator": "legacy_networkx/main@python3.12",
        "optimization_lever": "neighbor iteration clone elision under witness checks",
        "decision_hypothesis": "Apply one lever after profiling, then prove behavior isomorphic before retaining optimization."
      },
      "profile_first_artifacts": {
        "baseline": "artifacts/perf/BASELINE_BFS_V1.md",
        "hotspot": "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "delta": "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      },
      "decision_theoretic_runtime_contract": {
        "states": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "actions": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "loss_model": "minimize compatibility drift + security risk under deterministic constraints",
        "safe_mode_fallback": "fail_closed",
        "fallback_thresholds": {
          "unknown_incompatible_feature": true,
          "risk_probability_full_validate_min": 0.25
        }
      },
      "isomorphism_proof_artifacts": [
        "artifacts/proofs/ISOMORPHISM_PROOF_FNX_P2C_001_V1.md"
      ],
      "structured_logging_evidence": [
        "artifacts/conformance/latest/structured_logs.jsonl",
        "artifacts/conformance/latest/structured_log_emitter_normalization_report.json",
        "artifacts/conformance/latest/telemetry_dependent_unblock_matrix_v1.json"
      ]
    },
    {
      "packet_id": "FNX-P2C-002",
      "legacy_paths": [
        "networkx/classes/coreviews.py",
        "networkx/classes/graphviews.py"
      ],
      "legacy_symbols": [
        "AtlasView",
        "AdjacencyView",
        "generic_graph_view",
        "subgraph_view",
        "reverse_view"
      ],
      "graph_mutation_contract": "Mutations preserve deterministic adjacency semantics and observable output parity.",
      "view_cache_contract": "View/cache interactions remain deterministic with explicit revision invalidation.",
      "dispatch_backend_contract": "Backend route selection is deterministic and fail-closed for unknown incompatible features.",
      "conversion_readwrite_contract": "Conversion/readwrite flows preserve scoped legacy contract across strict and hardened modes.",
      "error_contract": "Strict fail-closed; hardened bounded recoveries only when allowlisted.",
      "strict_mode_policy": "Exact scoped compatibility with legacy-observable outputs.",
      "hardened_mode_policy": "Same API contract plus bounded defensive guards and deterministic recovery evidence.",
      "excluded_scope": [
        "legacy implementation reuse (clean-room enforcement)",
        "unscoped upstream APIs not yet admitted by packet roadmap"
      ],
      "oracle_tests": [
        "networkx/classes/tests/test_coreviews.py",
        "networkx/classes/tests/test_graphviews.py"
      ],
      "performance_sentinels": [
        "artifacts/perf/BASELINE_BFS_V1.md",
        "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      ],
      "compatibility_risks": [
        "stale cache exposure",
        "projection filter nondeterminism"
      ],
      "behavior_region_map": [],
      "raptorq_artifacts": {
        "legacy_anchor_map": "artifacts/phase2c/FNX-P2C-002/legacy_anchor_map.md",
        "contract_table": "artifacts/phase2c/FNX-P2C-002/contract_table.md",
        "fixture_manifest": "artifacts/phase2c/FNX-P2C-002/fixture_manifest.json",
        "parity_gate": "artifacts/phase2c/FNX-P2C-002/parity_gate.yaml",
        "risk_note": "artifacts/phase2c/FNX-P2C-002/risk_note.md",
        "parity_report": "artifacts/phase2c/FNX-P2C-002/parity_report.json",
        "raptorq_sidecar": "artifacts/phase2c/FNX-P2C-002/parity_report.raptorq.json",
        "decode_proof": "artifacts/phase2c/FNX-P2C-002/parity_report.decode_proof.json"
      },
      "invariants": [
        {
          "invariant_id": "FNX-P2C-002-I1",
          "statement": "View layer semantics output contract is deterministic and parity-preserving.",
          "behavioral_boundary": "FNX-P2C-002 scoped APIs only.",
          "legacy_ambiguity": "view refresh timing vs underlying graph mutation",
          "policy_decision": "revision counter invalidates caches atomically",
          "compatibility_rationale": "preserves observable neighbor sequences",
          "verification_hooks": {
            "unit": [
              "unit::fnx-p2c-002::contract"
            ],
            "property": [
              "property::fnx-p2c-002::invariants"
            ],
            "differential": [
              "differential::fnx-p2c-002::fixtures"
            ],
            "adversarial": [
              "adversarial::fnx-p2c-002::malformed_inputs"
            ],
            "e2e": [
              "e2e::fnx-p2c-002::golden_journey"
            ]
          }
        }
      ],
      "alien_uplift_contract_card": {
        "ev_score": 2.4,
        "baseline_comparator": "legacy_networkx/main@python3.12",
        "optimization_lever": "single-pass cache invalidation scan with stable ordering",
        "decision_hypothesis": "Apply one lever after profiling, then prove behavior isomorphic before retaining optimization."
      },
      "profile_first_artifacts": {
        "baseline": "artifacts/perf/BASELINE_BFS_V1.md",
        "hotspot": "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "delta": "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      },
      "decision_theoretic_runtime_contract": {
        "states": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "actions": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "loss_model": "minimize compatibility drift + security risk under deterministic constraints",
        "safe_mode_fallback": "fail_closed",
        "fallback_thresholds": {
          "unknown_incompatible_feature": true,
          "risk_probability_full_validate_min": 0.25
        }
      },
      "isomorphism_proof_artifacts": [
        "artifacts/proofs/ISOMORPHISM_PROOF_FNX_P2C_002_V1.md"
      ],
      "structured_logging_evidence": [
        "artifacts/conformance/latest/structured_logs.jsonl",
        "artifacts/conformance/latest/structured_log_emitter_normalization_report.json",
        "artifacts/conformance/latest/telemetry_dependent_unblock_matrix_v1.json"
      ]
    },
    {
      "packet_id": "FNX-P2C-003",
      "legacy_paths": [
        "networkx/utils/backends.py",
        "networkx/utils/tests/test_backends.py",
        "networkx/classes/tests/dispatch_interface.py",
        "networkx/utils/tests/test_config.py"
      ],
      "legacy_symbols": [
        "_dispatchable._call_if_any_backends_installed",
        "_dispatchable._can_backend_run",
        "_dispatchable._should_backend_run",
        "_dispatchable._will_call_mutate_input",
        "_get_cache_key",
        "_get_from_cache",
        "_load_backend"
      ],
      "graph_mutation_contract": "Mutations preserve deterministic adjacency semantics and observable output parity.",
      "view_cache_contract": "View/cache interactions remain deterministic with explicit revision invalidation.",
      "dispatch_backend_contract": "Backend route selection is deterministic and fail-closed for unknown incompatible features.",
      "conversion_readwrite_contract": "Conversion/readwrite flows preserve scoped legacy contract across strict and hardened modes.",
      "error_contract": "Strict fail-closed; hardened bounded recoveries only when allowlisted.",
      "strict_mode_policy": "Exact scoped compatibility with legacy-observable outputs.",
      "hardened_mode_policy": "Same API contract plus bounded defensive guards and deterministic recovery evidence.",
      "excluded_scope": [
        "legacy implementation reuse (clean-room enforcement)",
        "unscoped upstream APIs not yet admitted by packet roadmap"
      ],
      "oracle_tests": [
        "networkx/utils/tests/test_backends.py",
        "networkx/classes/tests/dispatch_interface.py",
        "networkx/utils/tests/test_config.py"
      ],
      "performance_sentinels": [
        "artifacts/perf/BASELINE_BFS_V1.md",
        "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      ],
      "compatibility_risks": [
        "backend route ambiguity",
        "unknown feature bypass risk"
      ],
      "behavior_region_map": [
        {
          "region_id": "P2C003-R1",
          "pathway": "normal",
          "legacy_anchor_refs": [
            "networkx/utils/backends.py:553-716",
            "networkx/utils/backends.py:1099-1146"
          ],
          "symbols": [
            "_dispatchable._call_if_any_backends_installed",
            "_dispatchable._can_backend_run",
            "_dispatchable._should_backend_run"
          ],
          "behavior_note": "Backend keyword override, can_run/should_run probes, and conversion eligibility produce deterministic backend selection with explicit failure paths.",
          "compatibility_policy": "strict parity in route selection; hardened still fail-closed on incompatibility",
          "downstream_contract_rows": [
            "Input Contract: compatibility mode",
            "Output Contract: algorithm/state result",
            "Error Contract: unknown incompatible feature"
          ],
          "planned_oracle_tests": [
            "networkx/utils/tests/test_backends.py:44-95",
            "networkx/utils/tests/test_backends.py:101-129"
          ]
        },
        {
          "region_id": "P2C003-R2",
          "pathway": "edge",
          "legacy_anchor_refs": [
            "networkx/utils/backends.py:717-760",
            "networkx/utils/backends.py:1052-1075"
          ],
          "symbols": [
            "_dispatchable._will_call_mutate_input",
            "_dispatchable._call_if_any_backends_installed"
          ],
          "behavior_note": "Mutating calls suppress automatic backend conversion and only fall back when input graph classes are compatible with NetworkX semantics.",
          "compatibility_policy": "prefer non-conversion for mutating operations to preserve observable mutation contract",
          "downstream_contract_rows": [
            "Input Contract: packet operations",
            "Strict/Hardened Divergence: strict no repair heuristics",
            "Determinism Commitments: stable traversal ordering"
          ],
          "planned_oracle_tests": [
            "networkx/utils/tests/test_backends.py:135-160",
            "networkx/utils/tests/test_backends.py:194-225"
          ]
        },
        {
          "region_id": "P2C003-R3",
          "pathway": "adversarial",
          "legacy_anchor_refs": [
            "networkx/utils/backends.py:202-212",
            "networkx/utils/backends.py:561-563",
            "networkx/utils/backends.py:640-715"
          ],
          "symbols": [
            "_load_backend",
            "_dispatchable._call_if_any_backends_installed"
          ],
          "behavior_note": "Unknown backend names, missing implementations, and incompatible conversion paths must fail closed with explicit ImportError/TypeError semantics.",
          "compatibility_policy": "fail-closed default for unknown or unsupported backend routes",
          "downstream_contract_rows": [
            "Error Contract: unknown incompatible feature",
            "Error Contract: malformed input affecting compatibility",
            "Strict/Hardened Divergence: hardened bounded recovery only when allowlisted"
          ],
          "planned_oracle_tests": [
            "networkx/utils/tests/test_backends.py:162-168",
            "networkx/utils/tests/test_backends.py:170-187"
          ]
        },
        {
          "region_id": "P2C003-R4",
          "pathway": "deterministic-cache",
          "legacy_anchor_refs": [
            "networkx/utils/backends.py:1989-2010",
            "networkx/utils/backends.py:2041-2093"
          ],
          "symbols": [
            "_get_cache_key",
            "_get_from_cache"
          ],
          "behavior_note": "Cache key canonicalization and FAILED_TO_CONVERT sentinel behavior keep route resolution deterministic and prevent repeated incompatible conversion churn.",
          "compatibility_policy": "cache lookup order remains deterministic before fallback/retry",
          "downstream_contract_rows": [
            "Determinism Commitments: stable traversal and output ordering",
            "Output Contract: evidence artifacts are replayable",
            "Error Contract: bounded hardened behavior with audit"
          ],
          "planned_oracle_tests": [
            "networkx/classes/tests/dispatch_interface.py:52-78",
            "networkx/classes/tests/dispatch_interface.py:186-190",
            "networkx/utils/tests/test_config.py:120-170"
          ]
        }
      ],
      "raptorq_artifacts": {
        "legacy_anchor_map": "artifacts/phase2c/FNX-P2C-003/legacy_anchor_map.md",
        "contract_table": "artifacts/phase2c/FNX-P2C-003/contract_table.md",
        "fixture_manifest": "artifacts/phase2c/FNX-P2C-003/fixture_manifest.json",
        "parity_gate": "artifacts/phase2c/FNX-P2C-003/parity_gate.yaml",
        "risk_note": "artifacts/phase2c/FNX-P2C-003/risk_note.md",
        "parity_report": "artifacts/phase2c/FNX-P2C-003/parity_report.json",
        "raptorq_sidecar": "artifacts/phase2c/FNX-P2C-003/parity_report.raptorq.json",
        "decode_proof": "artifacts/phase2c/FNX-P2C-003/parity_report.decode_proof.json"
      },
      "invariants": [
        {
          "invariant_id": "FNX-P2C-003-I1",
          "statement": "Dispatchable backend routing output contract is deterministic and parity-preserving.",
          "behavioral_boundary": "FNX-P2C-003 scoped APIs only.",
          "legacy_ambiguity": "backend selection tie among equal priority candidates",
          "policy_decision": "tie-break by backend name lexical order",
          "compatibility_rationale": "removes implementation-dependent selection drift",
          "verification_hooks": {
            "unit": [
              "unit::fnx-p2c-003::contract"
            ],
            "property": [
              "property::fnx-p2c-003::invariants"
            ],
            "differential": [
              "differential::fnx-p2c-003::fixtures"
            ],
            "adversarial": [
              "adversarial::fnx-p2c-003::malformed_inputs"
            ],
            "e2e": [
              "e2e::fnx-p2c-003::golden_journey"
            ]
          }
        }
      ],
      "alien_uplift_contract_card": {
        "ev_score": 2.4,
        "baseline_comparator": "legacy_networkx/main@python3.12",
        "optimization_lever": "cache-compatible backend filter pruning",
        "decision_hypothesis": "Apply one lever after profiling, then prove behavior isomorphic before retaining optimization."
      },
      "profile_first_artifacts": {
        "baseline": "artifacts/perf/BASELINE_BFS_V1.md",
        "hotspot": "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "delta": "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      },
      "decision_theoretic_runtime_contract": {
        "states": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "actions": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "loss_model": "minimize compatibility drift + security risk under deterministic constraints",
        "safe_mode_fallback": "fail_closed",
        "fallback_thresholds": {
          "unknown_incompatible_feature": true,
          "risk_probability_full_validate_min": 0.25
        }
      },
      "isomorphism_proof_artifacts": [
        "artifacts/proofs/ISOMORPHISM_PROOF_FNX_P2C_003_V1.md"
      ],
      "structured_logging_evidence": [
        "artifacts/conformance/latest/structured_logs.jsonl",
        "artifacts/conformance/latest/structured_log_emitter_normalization_report.json",
        "artifacts/conformance/latest/telemetry_dependent_unblock_matrix_v1.json"
      ],
      "packet_boundary_threat_matrix": [
        {
          "threat_id": "P2C003-TM-1",
          "threat_class": "parser_abuse",
          "strict_mode_response": "Fail-closed on malformed backend configuration payloads and route signatures.",
          "hardened_mode_response": "Fail-closed with bounded deterministic diagnostics; no permissive parse fallback.",
          "mitigations": [
            "backend config schema checks",
            "route signature validation",
            "deterministic parse error taxonomy"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-003/risk_note.md",
          "adversarial_fixture_hooks": [
            "dispatch_config_malformed_payload"
          ],
          "crash_triage_taxonomy": [
            "dispatch.parse.malformed_payload",
            "dispatch.parse.signature_mismatch"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment"
          ],
          "compatibility_boundary": "backend config parse boundary"
        },
        {
          "threat_id": "P2C003-TM-2",
          "threat_class": "metadata_ambiguity",
          "strict_mode_response": "Fail-closed on ambiguous backend metadata and conflicting routing hints.",
          "hardened_mode_response": "Quarantine unsupported metadata and fail-closed when parity impact is not provably safe.",
          "mitigations": [
            "backend metadata allowlist",
            "deterministic route ranking",
            "metadata drift ledger"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-003/risk_note.md",
          "adversarial_fixture_hooks": [
            "dispatch_conflicting_backend_metadata"
          ],
          "crash_triage_taxonomy": [
            "dispatch.metadata.ambiguous_hint",
            "dispatch.metadata.conflicting_source"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment",
            "quarantine_of_unsupported_metadata"
          ],
          "compatibility_boundary": "metadata normalization boundary"
        },
        {
          "threat_id": "P2C003-TM-3",
          "threat_class": "version_skew",
          "strict_mode_response": "Fail-closed on unsupported backend API versions or incompatible route contracts.",
          "hardened_mode_response": "Reject incompatible versions with deterministic remediation diagnostics.",
          "mitigations": [
            "version envelope lock",
            "backend feature compatibility matrix",
            "upgrade gate checks"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-003/parity_gate.yaml",
          "adversarial_fixture_hooks": [
            "dispatch_backend_api_version_skew"
          ],
          "crash_triage_taxonomy": [
            "dispatch.version.unsupported_backend_api",
            "dispatch.version.contract_mismatch"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment"
          ],
          "compatibility_boundary": "backend API version envelope boundary"
        },
        {
          "threat_id": "P2C003-TM-4",
          "threat_class": "resource_exhaustion",
          "strict_mode_response": "Fail-closed on route-search or dispatch costs above strict policy budgets.",
          "hardened_mode_response": "Apply bounded dispatch clamps and reject when budget thresholds are exhausted.",
          "mitigations": [
            "dispatch budget caps",
            "timeout guards",
            "tail latency monitoring"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-003/parity_gate.yaml",
          "adversarial_fixture_hooks": [
            "dispatch_route_fanout_exhaustion"
          ],
          "crash_triage_taxonomy": [
            "dispatch.resource.route_fanout_exhaustion",
            "dispatch.resource.budget_threshold_exceeded"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment",
            "bounded_resource_clamp"
          ],
          "compatibility_boundary": "dispatch budget boundary"
        },
        {
          "threat_id": "P2C003-TM-5",
          "threat_class": "state_corruption",
          "strict_mode_response": "Fail-closed when dispatch cache state violates deterministic invariants.",
          "hardened_mode_response": "Reset dispatch cache state and fail-closed with deterministic incident evidence.",
          "mitigations": [
            "cache key determinism tests",
            "route state checksums",
            "cache rollback hooks"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-003/contract_table.md",
          "adversarial_fixture_hooks": [
            "dispatch_cache_state_break"
          ],
          "crash_triage_taxonomy": [
            "dispatch.state.cache_invariant_break",
            "dispatch.state.replay_mismatch"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment"
          ],
          "compatibility_boundary": "dispatch cache determinism boundary"
        },
        {
          "threat_id": "P2C003-TM-6",
          "threat_class": "backend_route_ambiguity",
          "strict_mode_response": "Fail-closed on equal-precedence competing backend routes.",
          "hardened_mode_response": "Apply deterministic allowlisted fallback route with full audit trace or fail-closed.",
          "mitigations": [
            "explicit route priority matrix",
            "tie-break policy witness",
            "route drift tests"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-003/contract_table.md",
          "adversarial_fixture_hooks": [
            "dispatch_equal_priority_route_collision"
          ],
          "crash_triage_taxonomy": [
            "dispatch.route.equal_precedence_collision",
            "dispatch.route.fallback_audit_required"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment",
            "deterministic_backend_fallback_with_audit"
          ],
          "compatibility_boundary": "backend route priority boundary"
        },
        {
          "threat_id": "P2C003-TM-7",
          "threat_class": "policy_bypass",
          "strict_mode_response": "Fail-closed on any policy override or unsafe enforcement bypass attempt.",
          "hardened_mode_response": "Ignore unauthorized overrides, emit deterministic bypass evidence, and halt route execution.",
          "mitigations": [
            "policy signature verification",
            "immutable enforcement toggle registry",
            "override injection adversarial fixtures"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-003/risk_note.md",
          "adversarial_fixture_hooks": [
            "dispatch_policy_override_injection"
          ],
          "crash_triage_taxonomy": [
            "dispatch.policy.unauthorized_override",
            "dispatch.policy.signature_verification_failed"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment"
          ],
          "compatibility_boundary": "policy enforcement boundary"
        }
      ],
      "compatibility_boundary_matrix": [
        {
          "boundary_id": "P2C003-CB-1",
          "strict_parity_obligation": "Backend override and selection remain deterministic and parity-preserving.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment",
            "deterministic_backend_fallback_with_audit"
          ],
          "fail_closed_default": "fail_closed_on_unknown_or_unsupported_backend",
          "evidence_hooks": [
            "networkx/utils/tests/test_backends.py:44-95",
            "artifacts/phase2c/FNX-P2C-003/contract_table.md#input-contract"
          ]
        },
        {
          "boundary_id": "P2C003-CB-2",
          "strict_parity_obligation": "Unsupported metadata never changes observable route identity.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment",
            "quarantine_of_unsupported_metadata"
          ],
          "fail_closed_default": "fail_closed_on_unproven_metadata_safety",
          "evidence_hooks": [
            "networkx/utils/tests/test_backends.py:135-160",
            "artifacts/phase2c/FNX-P2C-003/risk_note.md#packet-threat-matrix"
          ]
        },
        {
          "boundary_id": "P2C003-CB-3",
          "strict_parity_obligation": "Unsupported backend API envelopes are rejected with deterministic errors.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment"
          ],
          "fail_closed_default": "fail_closed_on_version_skew",
          "evidence_hooks": [
            "networkx/utils/tests/test_config.py:120-170",
            "artifacts/phase2c/FNX-P2C-003/parity_gate.yaml"
          ]
        },
        {
          "boundary_id": "P2C003-CB-4",
          "strict_parity_obligation": "Dispatch search does not exceed strict complexity budgets.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment",
            "bounded_resource_clamp"
          ],
          "fail_closed_default": "fail_closed_when_budget_exhausted",
          "evidence_hooks": [
            "artifacts/phase2c/FNX-P2C-003/parity_gate.yaml",
            "artifacts/perf/phase2c/perf_regression_gate_report_v1.json"
          ]
        },
        {
          "boundary_id": "P2C003-CB-5",
          "strict_parity_obligation": "Dispatch cache semantics remain deterministic and replayable.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment"
          ],
          "fail_closed_default": "fail_closed_on_cache_invariant_break",
          "evidence_hooks": [
            "networkx/classes/tests/dispatch_interface.py:186-190",
            "artifacts/phase2c/FNX-P2C-003/contract_table.md#machine-checkable-invariant-matrix"
          ]
        },
        {
          "boundary_id": "P2C003-CB-6",
          "strict_parity_obligation": "Unknown incompatible feature paths fail closed with no implicit repair.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment"
          ],
          "fail_closed_default": "fail_closed_on_unknown_incompatible_feature",
          "evidence_hooks": [
            "networkx/utils/tests/test_backends.py:162-168",
            "artifacts/phase2c/FNX-P2C-003/risk_note.md#compatibility-boundary-matrix"
          ]
        }
      ],
      "module_boundary_skeleton": [
        {
          "boundary_id": "P2C003-MB-1",
          "crate": "fnx-dispatch",
          "module_path": "crates/fnx-dispatch/src/route_policy.rs",
          "public_seam": "pub trait DispatchRoutePlanner",
          "internal_ownership": "route candidate ranking and compatibility preflight policy",
          "legacy_compat_surface": "_dispatchable._can_backend_run / _should_backend_run",
          "threat_boundary_refs": [
            "P2C003-CB-1",
            "P2C003-CB-2"
          ],
          "compile_check": "cargo check -p fnx-dispatch",
          "parallel_owner_scope": "routing policy and candidate ordering only"
        },
        {
          "boundary_id": "P2C003-MB-2",
          "crate": "fnx-runtime",
          "module_path": "crates/fnx-runtime/src/backend_probe.rs",
          "public_seam": "pub trait BackendProbeRegistry",
          "internal_ownership": "backend discovery/version envelope checks and strict fail-closed decisions",
          "legacy_compat_surface": "_load_backend / backend API version checks",
          "threat_boundary_refs": [
            "P2C003-CB-3",
            "P2C003-CB-6"
          ],
          "compile_check": "cargo check -p fnx-runtime",
          "parallel_owner_scope": "backend probe + version compatibility only"
        },
        {
          "boundary_id": "P2C003-MB-3",
          "crate": "fnx-dispatch",
          "module_path": "crates/fnx-dispatch/src/cache_key.rs",
          "public_seam": "pub struct DispatchCacheKey + pub fn canonicalize_cache_key",
          "internal_ownership": "cache-key normalization and FAILED_TO_CONVERT sentinel management",
          "legacy_compat_surface": "_get_cache_key / _get_from_cache",
          "threat_boundary_refs": [
            "P2C003-CB-4",
            "P2C003-CB-5"
          ],
          "compile_check": "cargo test -p fnx-dispatch dispatch_cache -- --nocapture",
          "parallel_owner_scope": "cache-key derivation and cache state transitions only"
        },
        {
          "boundary_id": "P2C003-MB-4",
          "crate": "fnx-runtime",
          "module_path": "crates/fnx-runtime/src/hardened_guardrails.rs",
          "public_seam": "pub struct HardenedDispatchGuardrails",
          "internal_ownership": "allowlisted hardened deviations, audit envelopes, and deterministic policy bypass rejection",
          "legacy_compat_surface": "strict/hardened divergence envelope for dispatch paths",
          "threat_boundary_refs": [
            "P2C003-CB-1",
            "P2C003-CB-2",
            "P2C003-CB-6"
          ],
          "compile_check": "cargo check -p fnx-runtime --all-targets",
          "parallel_owner_scope": "hardened diagnostics/audit policy only"
        }
      ],
      "implementation_sequence": [
        {
          "checkpoint_id": "P2C003-SEQ-1",
          "order": 1,
          "depends_on": [],
          "objective": "Land compile-checkable route policy and backend probe seams before behavior changes.",
          "modules_touched": [
            "crates/fnx-dispatch/src/route_policy.rs",
            "crates/fnx-runtime/src/backend_probe.rs"
          ],
          "verification_entrypoints": [
            "unit::fnx-p2c-003::route_policy_shape",
            "cargo check -p fnx-dispatch"
          ],
          "structured_log_hooks": [
            "dispatch.route.policy_selected",
            "dispatch.backend_probe.result"
          ],
          "risk_checkpoint": "fail if public/internal seam ownership is ambiguous"
        },
        {
          "checkpoint_id": "P2C003-SEQ-2",
          "order": 2,
          "depends_on": [
            "P2C003-SEQ-1"
          ],
          "objective": "Implement strict-mode route selection parity and unknown-feature fail-closed handling.",
          "modules_touched": [
            "crates/fnx-dispatch/src/route_policy.rs",
            "crates/fnx-runtime/src/policy.rs"
          ],
          "verification_entrypoints": [
            "networkx/utils/tests/test_backends.py:44-95",
            "differential::fnx-p2c-003::fixtures"
          ],
          "structured_log_hooks": [
            "dispatch.route.strict_decision",
            "dispatch.fail_closed.trigger"
          ],
          "risk_checkpoint": "halt if strict mismatch budget deviates from zero"
        },
        {
          "checkpoint_id": "P2C003-SEQ-3",
          "order": 3,
          "depends_on": [
            "P2C003-SEQ-2"
          ],
          "objective": "Implement deterministic cache-key canonicalization and sentinel-safe cache transitions.",
          "modules_touched": [
            "crates/fnx-dispatch/src/cache_key.rs",
            "crates/fnx-dispatch/src/cache_store.rs"
          ],
          "verification_entrypoints": [
            "networkx/classes/tests/dispatch_interface.py:186-190",
            "property::fnx-p2c-003::cache_invariants"
          ],
          "structured_log_hooks": [
            "dispatch.cache.key_canonicalized",
            "dispatch.cache.sentinel_transition"
          ],
          "risk_checkpoint": "fail on replay-metadata drift in cache traces"
        },
        {
          "checkpoint_id": "P2C003-SEQ-4",
          "order": 4,
          "depends_on": [
            "P2C003-SEQ-2",
            "P2C003-SEQ-3"
          ],
          "objective": "Layer hardened allowlisted controls with deterministic audit envelopes.",
          "modules_touched": [
            "crates/fnx-runtime/src/hardened_guardrails.rs",
            "crates/fnx-runtime/src/structured_logging.rs"
          ],
          "verification_entrypoints": [
            "adversarial::fnx-p2c-003::policy_bypass",
            "adversarial::fnx-p2c-003::resource_exhaustion"
          ],
          "structured_log_hooks": [
            "dispatch.hardened.allowlisted_category",
            "dispatch.audit.envelope_emitted"
          ],
          "risk_checkpoint": "reject any non-allowlisted hardened deviation"
        },
        {
          "checkpoint_id": "P2C003-SEQ-5",
          "order": 5,
          "depends_on": [
            "P2C003-SEQ-4"
          ],
          "objective": "Run end-to-end differential/e2e/perf readiness gates and finalize packet evidence.",
          "modules_touched": [
            "crates/fnx-conformance/tests/phase2c_packet_readiness_gate.rs",
            "scripts/run_phase2c_readiness_e2e.sh"
          ],
          "verification_entrypoints": [
            "e2e::fnx-p2c-003::golden_journey",
            "cargo test -p fnx-conformance --test phase2c_packet_readiness_gate"
          ],
          "structured_log_hooks": [
            "dispatch.e2e.replay_bundle",
            "dispatch.readiness.gate_result"
          ],
          "risk_checkpoint": "stop on any strict/hardened parity gate mismatch"
        }
      ],
      "verification_entrypoints": [
        {
          "stage": "unit",
          "harness": "unit::fnx-p2c-003::contract",
          "structured_log_hook": "dispatch.unit.contract_asserted",
          "replay_metadata_fields": [
            "packet_id",
            "route_id",
            "backend_name",
            "strict_mode"
          ],
          "failure_forensics_artifact": "artifacts/conformance/latest/structured_logs.jsonl"
        },
        {
          "stage": "property",
          "harness": "property::fnx-p2c-003::invariants",
          "structured_log_hook": "dispatch.property.invariant_checkpoint",
          "replay_metadata_fields": [
            "seed",
            "graph_fingerprint",
            "cache_key_digest",
            "invariant_id"
          ],
          "failure_forensics_artifact": "artifacts/conformance/latest/structured_log_emitter_normalization_report.json"
        },
        {
          "stage": "differential",
          "harness": "differential::fnx-p2c-003::fixtures",
          "structured_log_hook": "dispatch.diff.oracle_comparison",
          "replay_metadata_fields": [
            "fixture_id",
            "oracle_ref",
            "route_signature",
            "mismatch_count"
          ],
          "failure_forensics_artifact": "artifacts/phase2c/FNX-P2C-003/parity_report.json"
        },
        {
          "stage": "e2e",
          "harness": "e2e::fnx-p2c-003::golden_journey",
          "structured_log_hook": "dispatch.e2e.replay_emitted",
          "replay_metadata_fields": [
            "scenario_id",
            "thread_id",
            "trace_id",
            "forensics_bundle"
          ],
          "failure_forensics_artifact": "artifacts/conformance/latest/telemetry_dependent_unblock_matrix_v1.json"
        }
      ]
    },
    {
      "packet_id": "FNX-P2C-004",
      "legacy_paths": [
        "networkx/convert.py",
        "networkx/relabel.py",
        "networkx/tests/test_convert.py",
        "networkx/tests/test_relabel.py"
      ],
      "legacy_symbols": [
        "to_networkx_graph",
        "from_dict_of_lists",
        "to_dict_of_dicts",
        "from_dict_of_dicts",
        "from_edgelist",
        "relabel_nodes",
        "convert_node_labels_to_integers"
      ],
      "graph_mutation_contract": "Mutations preserve deterministic adjacency semantics and observable output parity.",
      "view_cache_contract": "View/cache interactions remain deterministic with explicit revision invalidation.",
      "dispatch_backend_contract": "Backend route selection is deterministic and fail-closed for unknown incompatible features.",
      "conversion_readwrite_contract": "Conversion/readwrite flows preserve scoped legacy contract across strict and hardened modes.",
      "error_contract": "Strict fail-closed; hardened bounded recoveries only when allowlisted.",
      "strict_mode_policy": "Exact scoped compatibility with legacy-observable outputs.",
      "hardened_mode_policy": "Same API contract plus bounded defensive guards and deterministic recovery evidence.",
      "excluded_scope": [
        "legacy implementation reuse (clean-room enforcement)",
        "unscoped upstream APIs not yet admitted by packet roadmap"
      ],
      "oracle_tests": [
        "networkx/tests/test_convert.py",
        "networkx/tests/test_relabel.py"
      ],
      "performance_sentinels": [
        "artifacts/perf/BASELINE_BFS_V1.md",
        "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      ],
      "compatibility_risks": [
        "input precedence drift",
        "relabel contract divergence",
        "multigraph key collision drift"
      ],
      "behavior_region_map": [
        {
          "region_id": "P2C004-R1",
          "pathway": "normal",
          "legacy_anchor_refs": [
            "networkx/convert.py:34-108",
            "networkx/convert.py:173-183"
          ],
          "symbols": [
            "to_networkx_graph",
            "from_edgelist"
          ],
          "behavior_note": "Conversion dispatch follows stable precedence (existing NetworkX graph, dict forms, edge-list forms, then optional integrations) before final edge-list collection fallback.",
          "compatibility_policy": "strict mode preserves dispatch precedence and observable output shape exactly",
          "downstream_contract_rows": [
            "Input Contract: packet operations",
            "Output Contract: algorithm/state result",
            "Determinism Commitments: stable traversal and output ordering"
          ],
          "planned_oracle_tests": [
            "networkx/tests/test_convert.py:19-44",
            "networkx/tests/test_convert.py:71-101",
            "networkx/tests/test_convert.py:212-230"
          ]
        },
        {
          "region_id": "P2C004-R2",
          "pathway": "edge",
          "legacy_anchor_refs": [
            "networkx/convert.py:213-250",
            "networkx/convert.py:253-370",
            "networkx/convert.py:374-457"
          ],
          "symbols": [
            "from_dict_of_lists",
            "to_dict_of_dicts",
            "from_dict_of_dicts"
          ],
          "behavior_note": "Dict conversion pathways preserve NetworkX-observable multigraph and undirected de-duplication semantics, including edge-data overwrite rules for explicit edge_data values.",
          "compatibility_policy": "retain legacy multigraph_input branch behavior and dict/list data-loss semantics",
          "downstream_contract_rows": [
            "Input Contract: compatibility mode",
            "Conversion/Readwrite Contract: scoped parity",
            "Strict/Hardened Divergence: strict no repair heuristics"
          ],
          "planned_oracle_tests": [
            "networkx/tests/test_convert.py:102-133",
            "networkx/tests/test_convert.py:134-210",
            "networkx/tests/test_convert.py:292-315"
          ]
        },
        {
          "region_id": "P2C004-R3",
          "pathway": "adversarial",
          "legacy_anchor_refs": [
            "networkx/convert.py:90-107",
            "networkx/convert.py:123-171",
            "networkx/convert.py:177-183"
          ],
          "symbols": [
            "to_networkx_graph"
          ],
          "behavior_note": "Unknown inputs, malformed dict forms, and invalid edge-list containers must fail closed via explicit TypeError/NetworkXError paths with no silent coercion in strict mode.",
          "compatibility_policy": "strict fail-closed on unknown incompatible feature; hardened bounded recovery with audit",
          "downstream_contract_rows": [
            "Error Contract: malformed input affecting compatibility",
            "Error Contract: unknown incompatible feature",
            "Strict/Hardened Divergence: hardened bounded recovery only when allowlisted"
          ],
          "planned_oracle_tests": [
            "networkx/tests/test_convert.py:45-69",
            "networkx/tests/test_convert.py:318-321"
          ]
        },
        {
          "region_id": "P2C004-R4",
          "pathway": "relabel-determinism",
          "legacy_anchor_refs": [
            "networkx/relabel.py:9-157",
            "networkx/relabel.py:227-285"
          ],
          "symbols": [
            "relabel_nodes",
            "convert_node_labels_to_integers"
          ],
          "behavior_note": "Relabel copy/in-place branches preserve API contract while order-sensitive behavior follows explicit topological or insertion-driven mapping strategy.",
          "compatibility_policy": "preserve legacy ordering semantics for copy=True and documented copy=False caveats",
          "downstream_contract_rows": [
            "Output Contract: algorithm/state result",
            "Determinism Commitments: stable traversal and output ordering",
            "Input Contract: packet operations"
          ],
          "planned_oracle_tests": [
            "networkx/tests/test_relabel.py:9-90",
            "networkx/tests/test_relabel.py:188-207",
            "networkx/tests/test_relabel.py:319-349"
          ]
        },
        {
          "region_id": "P2C004-R5",
          "pathway": "adversarial-relabel-collision",
          "legacy_anchor_refs": [
            "networkx/relabel.py:130-190",
            "networkx/relabel.py:193-223"
          ],
          "symbols": [
            "relabel_nodes",
            "_relabel_inplace",
            "_relabel_copy"
          ],
          "behavior_note": "Overlapping mappings, circular relabel cycles, and multigraph key collisions trigger deterministic key remapping or explicit NetworkXUnfeasible failures.",
          "compatibility_policy": "enforce deterministic collision handling; reject unresolved cycles in copy=False",
          "downstream_contract_rows": [
            "Error Contract: malformed input affecting compatibility",
            "Output Contract: algorithm/state result",
            "Determinism Commitments: stable traversal and output ordering"
          ],
          "planned_oracle_tests": [
            "networkx/tests/test_relabel.py:208-317",
            "networkx/tests/test_relabel.py:296-310"
          ]
        }
      ],
      "raptorq_artifacts": {
        "legacy_anchor_map": "artifacts/phase2c/FNX-P2C-004/legacy_anchor_map.md",
        "contract_table": "artifacts/phase2c/FNX-P2C-004/contract_table.md",
        "fixture_manifest": "artifacts/phase2c/FNX-P2C-004/fixture_manifest.json",
        "parity_gate": "artifacts/phase2c/FNX-P2C-004/parity_gate.yaml",
        "risk_note": "artifacts/phase2c/FNX-P2C-004/risk_note.md",
        "parity_report": "artifacts/phase2c/FNX-P2C-004/parity_report.json",
        "raptorq_sidecar": "artifacts/phase2c/FNX-P2C-004/parity_report.raptorq.json",
        "decode_proof": "artifacts/phase2c/FNX-P2C-004/parity_report.decode_proof.json"
      },
      "invariants": [
        {
          "invariant_id": "FNX-P2C-004-I1",
          "statement": "Conversion and relabel contracts output contract is deterministic and parity-preserving.",
          "behavioral_boundary": "FNX-P2C-004 scoped APIs only.",
          "legacy_ambiguity": "mixed-type attribute coercion on ingest",
          "policy_decision": "strict fail-closed, hardened bounded coercion with audit",
          "compatibility_rationale": "preserves strict parity while allowing bounded resilience in hardened mode",
          "verification_hooks": {
            "unit": [
              "unit::fnx-p2c-004::contract"
            ],
            "property": [
              "property::fnx-p2c-004::invariants"
            ],
            "differential": [
              "differential::fnx-p2c-004::fixtures"
            ],
            "adversarial": [
              "adversarial::fnx-p2c-004::malformed_inputs"
            ],
            "e2e": [
              "e2e::fnx-p2c-004::golden_journey"
            ]
          }
        }
      ],
      "alien_uplift_contract_card": {
        "ev_score": 2.4,
        "baseline_comparator": "legacy_networkx/main@python3.12",
        "optimization_lever": "single-allocation conversion pipeline",
        "decision_hypothesis": "Apply one lever after profiling, then prove behavior isomorphic before retaining optimization."
      },
      "profile_first_artifacts": {
        "baseline": "artifacts/perf/BASELINE_BFS_V1.md",
        "hotspot": "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "delta": "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      },
      "decision_theoretic_runtime_contract": {
        "states": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "actions": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "loss_model": "minimize compatibility drift + security risk under deterministic constraints",
        "safe_mode_fallback": "fail_closed",
        "fallback_thresholds": {
          "unknown_incompatible_feature": true,
          "risk_probability_full_validate_min": 0.25
        }
      },
      "isomorphism_proof_artifacts": [
        "artifacts/proofs/ISOMORPHISM_PROOF_FNX_P2C_004_V1.md"
      ],
      "structured_logging_evidence": [
        "artifacts/conformance/latest/structured_logs.jsonl",
        "artifacts/conformance/latest/structured_log_emitter_normalization_report.json",
        "artifacts/conformance/latest/telemetry_dependent_unblock_matrix_v1.json"
      ],
      "packet_boundary_threat_matrix": [
        {
          "threat_id": "P2C004-TM-1",
          "threat_class": "parser_abuse",
          "strict_mode_response": "Fail-closed on malformed conversion payload structures and invalid edge-list coercion.",
          "hardened_mode_response": "Fail-closed with bounded diagnostics and defensive parse recovery before deterministic abort.",
          "mitigations": [
            "payload schema checks",
            "field cardinality validation",
            "malformed payload fixtures"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-004/risk_note.md",
          "adversarial_fixture_hooks": [
            "conversion_payload_malformed_shape"
          ],
          "crash_triage_taxonomy": [
            "convert.parse.malformed_payload",
            "convert.parse.field_cardinality_invalid"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment",
            "defensive_parse_recovery"
          ],
          "compatibility_boundary": "conversion parse boundary"
        },
        {
          "threat_id": "P2C004-TM-2",
          "threat_class": "metadata_ambiguity",
          "strict_mode_response": "Fail-closed on ambiguous node/edge attribute precedence and conflicting metadata envelopes.",
          "hardened_mode_response": "Quarantine unsupported metadata and preserve deterministic precedence ordering.",
          "mitigations": [
            "attribute precedence table",
            "metadata allowlist",
            "attribute drift report"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-004/contract_table.md",
          "adversarial_fixture_hooks": [
            "conversion_conflicting_attribute_metadata"
          ],
          "crash_triage_taxonomy": [
            "convert.metadata.ambiguous_precedence",
            "convert.metadata.conflicting_attribute_source"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment",
            "quarantine_of_unsupported_metadata"
          ],
          "compatibility_boundary": "attribute precedence normalization boundary"
        },
        {
          "threat_id": "P2C004-TM-3",
          "threat_class": "version_skew",
          "strict_mode_response": "Fail-closed on unsupported conversion schema versions or contract envelopes.",
          "hardened_mode_response": "Reject incompatible schema versions with deterministic remediation diagnostics.",
          "mitigations": [
            "schema version pinning",
            "compatibility probes",
            "version skew fixtures"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-004/parity_gate.yaml",
          "adversarial_fixture_hooks": [
            "conversion_schema_version_skew"
          ],
          "crash_triage_taxonomy": [
            "convert.version.unsupported_schema",
            "convert.version.contract_mismatch"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment"
          ],
          "compatibility_boundary": "conversion schema version envelope boundary"
        },
        {
          "threat_id": "P2C004-TM-4",
          "threat_class": "resource_exhaustion",
          "strict_mode_response": "Fail-closed on conversion expansion above strict complexity or memory budget.",
          "hardened_mode_response": "Apply bounded resource clamps and reject once deterministic thresholds are exceeded.",
          "mitigations": [
            "bounded conversion passes",
            "memory budget guards",
            "expansion ratio checks"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-004/parity_gate.yaml",
          "adversarial_fixture_hooks": [
            "conversion_expansion_ratio_blowup"
          ],
          "crash_triage_taxonomy": [
            "convert.resource.expansion_ratio_exceeded",
            "convert.resource.budget_threshold_exceeded"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment",
            "bounded_resource_clamp"
          ],
          "compatibility_boundary": "conversion expansion budget boundary"
        },
        {
          "threat_id": "P2C004-TM-5",
          "threat_class": "state_corruption",
          "strict_mode_response": "Fail-closed when conversion/relabel mutates graph state outside declared transaction boundary.",
          "hardened_mode_response": "Rollback conversion transaction and emit deterministic incident evidence before fail-closed exit.",
          "mitigations": [
            "mutation boundary checks",
            "transaction rollback points",
            "round-trip invariants"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-004/contract_table.md",
          "adversarial_fixture_hooks": [
            "conversion_transaction_boundary_break"
          ],
          "crash_triage_taxonomy": [
            "convert.state.transaction_boundary_break",
            "convert.state.roundtrip_invariant_break"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment"
          ],
          "compatibility_boundary": "conversion transaction boundary"
        },
        {
          "threat_id": "P2C004-TM-6",
          "threat_class": "attribute_confusion",
          "strict_mode_response": "Fail-closed on duplicate/conflicting attribute namespaces and ambiguous relabel collisions.",
          "hardened_mode_response": "Apply deterministic namespace canonicalization policy and reject unresolved conflicts.",
          "mitigations": [
            "attribute namespace validation",
            "canonicalization policy",
            "conflict fixtures"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-004/risk_note.md",
          "adversarial_fixture_hooks": [
            "conversion_attribute_namespace_collision"
          ],
          "crash_triage_taxonomy": [
            "convert.metadata.namespace_collision",
            "convert.metadata.canonicalization_conflict"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment",
            "deterministic_tie_break_normalization"
          ],
          "compatibility_boundary": "attribute namespace canonicalization boundary"
        }
      ],
      "compatibility_boundary_matrix": [
        {
          "boundary_id": "P2C004-CB-1",
          "strict_parity_obligation": "Malformed conversion payloads never yield repaired outputs in strict mode.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment",
            "defensive_parse_recovery"
          ],
          "fail_closed_default": "fail_closed_on_malformed_conversion_payload",
          "evidence_hooks": [
            "networkx/tests/test_convert.py:45-69",
            "artifacts/phase2c/FNX-P2C-004/risk_note.md#packet-threat-matrix"
          ]
        },
        {
          "boundary_id": "P2C004-CB-2",
          "strict_parity_obligation": "Attribute metadata precedence remains deterministic and parity-preserving.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment",
            "quarantine_of_unsupported_metadata"
          ],
          "fail_closed_default": "fail_closed_on_ambiguous_metadata",
          "evidence_hooks": [
            "networkx/tests/test_convert.py:134-210",
            "artifacts/phase2c/FNX-P2C-004/contract_table.md#input-contract"
          ]
        },
        {
          "boundary_id": "P2C004-CB-3",
          "strict_parity_obligation": "Unsupported schema/version envelopes are rejected deterministically.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment"
          ],
          "fail_closed_default": "fail_closed_on_version_skew",
          "evidence_hooks": [
            "networkx/tests/test_convert.py:45-69",
            "artifacts/phase2c/FNX-P2C-004/parity_gate.yaml"
          ]
        },
        {
          "boundary_id": "P2C004-CB-4",
          "strict_parity_obligation": "Conversion expansion must stay within strict complexity budgets.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment",
            "bounded_resource_clamp"
          ],
          "fail_closed_default": "fail_closed_when_conversion_budget_exhausted",
          "evidence_hooks": [
            "artifacts/phase2c/FNX-P2C-004/parity_gate.yaml",
            "artifacts/perf/phase2c/perf_regression_gate_report_v1.json"
          ]
        },
        {
          "boundary_id": "P2C004-CB-5",
          "strict_parity_obligation": "Conversion transaction boundaries preserve graph-state invariants exactly.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment"
          ],
          "fail_closed_default": "fail_closed_on_conversion_state_invariant_break",
          "evidence_hooks": [
            "networkx/tests/test_relabel.py:208-317",
            "artifacts/phase2c/FNX-P2C-004/contract_table.md#machine-checkable-invariant-matrix"
          ]
        },
        {
          "boundary_id": "P2C004-CB-6",
          "strict_parity_obligation": "Attribute namespace conflicts fail closed without hidden key rewrites.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment",
            "deterministic_tie_break_normalization"
          ],
          "fail_closed_default": "fail_closed_on_attribute_namespace_conflict",
          "evidence_hooks": [
            "networkx/tests/test_relabel.py:296-310",
            "artifacts/phase2c/FNX-P2C-004/risk_note.md#compatibility-boundary-matrix"
          ]
        }
      ],
      "module_boundary_skeleton": [
        {
          "boundary_id": "P2C004-MB-1",
          "crate": "fnx-convert",
          "module_path": "crates/fnx-convert/src/input_classifier.rs",
          "public_seam": "pub trait ConversionInputClassifier",
          "internal_ownership": "input-shape classification and create_using/multigraph dispatch preflight",
          "legacy_compat_surface": "to_networkx_graph / _prep_create_using",
          "threat_boundary_refs": [
            "P2C004-CB-1",
            "P2C004-CB-2",
            "P2C004-CB-3"
          ],
          "compile_check": "cargo check -p fnx-convert",
          "parallel_owner_scope": "input dispatch policy and validation preflight only"
        },
        {
          "boundary_id": "P2C004-MB-2",
          "crate": "fnx-convert",
          "module_path": "crates/fnx-convert/src/edge_projection.rs",
          "public_seam": "pub struct EdgeProjectionEngine",
          "internal_ownership": "dict/list/edge-list projection with deterministic attribute and key normalization",
          "legacy_compat_surface": "from_dict_of_lists / from_dict_of_dicts / from_edgelist",
          "threat_boundary_refs": [
            "P2C004-CB-2",
            "P2C004-CB-4",
            "P2C004-CB-6"
          ],
          "compile_check": "cargo test -p fnx-convert convert_projection -- --nocapture",
          "parallel_owner_scope": "edge projection + attribute precedence only"
        },
        {
          "boundary_id": "P2C004-MB-3",
          "crate": "fnx-convert",
          "module_path": "crates/fnx-convert/src/relabel_policy.rs",
          "public_seam": "pub trait RelabelPlanner",
          "internal_ownership": "copy/in-place relabel planning, cycle detection, and multigraph key collision policy",
          "legacy_compat_surface": "relabel_nodes / convert_node_labels_to_integers",
          "threat_boundary_refs": [
            "P2C004-CB-5",
            "P2C004-CB-6"
          ],
          "compile_check": "cargo test -p fnx-convert relabel -- --nocapture",
          "parallel_owner_scope": "relabel ordering and collision semantics only"
        },
        {
          "boundary_id": "P2C004-MB-4",
          "crate": "fnx-runtime",
          "module_path": "crates/fnx-runtime/src/hardened_guardrails.rs",
          "public_seam": "pub struct HardenedConversionGuardrails",
          "internal_ownership": "allowlisted hardened deviations, audit envelopes, and fail-closed policy override rejection",
          "legacy_compat_surface": "strict/hardened compatibility envelope for conversion and relabel paths",
          "threat_boundary_refs": [
            "P2C004-CB-1",
            "P2C004-CB-4",
            "P2C004-CB-6"
          ],
          "compile_check": "cargo check -p fnx-runtime --all-targets",
          "parallel_owner_scope": "hardened diagnostics/audit policy only"
        }
      ],
      "implementation_sequence": [
        {
          "checkpoint_id": "P2C004-SEQ-1",
          "order": 1,
          "depends_on": [],
          "objective": "Land compile-checkable conversion/relabel boundary seams before behavior changes.",
          "modules_touched": [
            "crates/fnx-convert/src/input_classifier.rs",
            "crates/fnx-convert/src/relabel_policy.rs"
          ],
          "verification_entrypoints": [
            "unit::fnx-p2c-004::boundary_shape",
            "cargo check -p fnx-convert"
          ],
          "structured_log_hooks": [
            "convert.boundary.input_classifier_ready",
            "convert.boundary.relabel_policy_ready"
          ],
          "risk_checkpoint": "fail if public/internal ownership boundaries are ambiguous"
        },
        {
          "checkpoint_id": "P2C004-SEQ-2",
          "order": 2,
          "depends_on": [
            "P2C004-SEQ-1"
          ],
          "objective": "Implement strict-mode conversion input dispatch parity and malformed-input fail-closed behavior.",
          "modules_touched": [
            "crates/fnx-convert/src/input_classifier.rs",
            "crates/fnx-convert/src/lib.rs"
          ],
          "verification_entrypoints": [
            "networkx/tests/test_convert.py:45-133",
            "differential::fnx-p2c-004::convert_dispatch"
          ],
          "structured_log_hooks": [
            "convert.strict.dispatch_decision",
            "convert.fail_closed.malformed_input"
          ],
          "risk_checkpoint": "halt if strict mismatch budget deviates from zero"
        },
        {
          "checkpoint_id": "P2C004-SEQ-3",
          "order": 3,
          "depends_on": [
            "P2C004-SEQ-2"
          ],
          "objective": "Implement deterministic edge projection and relabel collision semantics for multi-graph pathways.",
          "modules_touched": [
            "crates/fnx-convert/src/edge_projection.rs",
            "crates/fnx-convert/src/relabel_policy.rs"
          ],
          "verification_entrypoints": [
            "networkx/tests/test_convert.py:134-210",
            "networkx/tests/test_relabel.py:188-317",
            "property::fnx-p2c-004::invariants"
          ],
          "structured_log_hooks": [
            "convert.edge_projection.normalized",
            "convert.relabel.collision_strategy_selected"
          ],
          "risk_checkpoint": "fail on relabel ordering drift or non-deterministic multigraph key remapping"
        },
        {
          "checkpoint_id": "P2C004-SEQ-4",
          "order": 4,
          "depends_on": [
            "P2C004-SEQ-2",
            "P2C004-SEQ-3"
          ],
          "objective": "Layer hardened allowlisted controls with deterministic audit envelopes for conversion threats.",
          "modules_touched": [
            "crates/fnx-runtime/src/hardened_guardrails.rs",
            "crates/fnx-runtime/src/structured_logging.rs"
          ],
          "verification_entrypoints": [
            "adversarial::fnx-p2c-004::malformed_inputs",
            "adversarial::fnx-p2c-004::attribute_confusion"
          ],
          "structured_log_hooks": [
            "convert.hardened.allowlisted_category",
            "convert.audit.envelope_emitted"
          ],
          "risk_checkpoint": "reject any non-allowlisted hardened deviation"
        },
        {
          "checkpoint_id": "P2C004-SEQ-5",
          "order": 5,
          "depends_on": [
            "P2C004-SEQ-4"
          ],
          "objective": "Run differential/e2e readiness gates and finalize packet evidence artifacts.",
          "modules_touched": [
            "crates/fnx-conformance/tests/phase2c_packet_readiness_gate.rs",
            "scripts/run_phase2c_readiness_e2e.sh"
          ],
          "verification_entrypoints": [
            "e2e::fnx-p2c-004::golden_journey",
            "cargo test -p fnx-conformance --test phase2c_packet_readiness_gate"
          ],
          "structured_log_hooks": [
            "convert.e2e.replay_bundle",
            "convert.readiness.gate_result"
          ],
          "risk_checkpoint": "stop on any strict/hardened parity gate mismatch"
        }
      ],
      "verification_entrypoints": [
        {
          "stage": "unit",
          "harness": "unit::fnx-p2c-004::contract",
          "structured_log_hook": "convert.unit.contract_asserted",
          "replay_metadata_fields": [
            "packet_id",
            "conversion_path",
            "input_shape",
            "strict_mode"
          ],
          "failure_forensics_artifact": "artifacts/conformance/latest/structured_logs.jsonl"
        },
        {
          "stage": "property",
          "harness": "property::fnx-p2c-004::invariants",
          "structured_log_hook": "convert.property.invariant_checkpoint",
          "replay_metadata_fields": [
            "seed",
            "graph_fingerprint",
            "relabel_mode",
            "invariant_id"
          ],
          "failure_forensics_artifact": "artifacts/conformance/latest/structured_log_emitter_normalization_report.json"
        },
        {
          "stage": "differential",
          "harness": "differential::fnx-p2c-004::fixtures",
          "structured_log_hook": "convert.diff.oracle_comparison",
          "replay_metadata_fields": [
            "fixture_id",
            "oracle_ref",
            "conversion_signature",
            "mismatch_count"
          ],
          "failure_forensics_artifact": "artifacts/phase2c/FNX-P2C-004/parity_report.json"
        },
        {
          "stage": "e2e",
          "harness": "e2e::fnx-p2c-004::golden_journey",
          "structured_log_hook": "convert.e2e.replay_emitted",
          "replay_metadata_fields": [
            "scenario_id",
            "thread_id",
            "trace_id",
            "forensics_bundle"
          ],
          "failure_forensics_artifact": "artifacts/conformance/latest/telemetry_dependent_unblock_matrix_v1.json"
        }
      ]
    },
    {
      "packet_id": "FNX-P2C-005",
      "legacy_paths": [
        "networkx/algorithms/shortest_paths/weighted.py",
        "networkx/algorithms/centrality/",
        "networkx/algorithms/components/"
      ],
      "legacy_symbols": [
        "_weight_function",
        "dijkstra_path",
        "bellman_ford_path",
        "bidirectional_dijkstra"
      ],
      "graph_mutation_contract": "Mutations preserve deterministic adjacency semantics and observable output parity.",
      "view_cache_contract": "View/cache interactions remain deterministic with explicit revision invalidation.",
      "dispatch_backend_contract": "Backend route selection is deterministic and fail-closed for unknown incompatible features.",
      "conversion_readwrite_contract": "Conversion/readwrite flows preserve scoped legacy contract across strict and hardened modes.",
      "error_contract": "Strict fail-closed; hardened bounded recoveries only when allowlisted.",
      "strict_mode_policy": "Exact scoped compatibility with legacy-observable outputs.",
      "hardened_mode_policy": "Same API contract plus bounded defensive guards and deterministic recovery evidence.",
      "excluded_scope": [
        "legacy implementation reuse (clean-room enforcement)",
        "unscoped upstream APIs not yet admitted by packet roadmap"
      ],
      "oracle_tests": [
        "networkx/algorithms/shortest_paths/tests/test_weighted.py",
        "networkx/algorithms/centrality/tests/",
        "networkx/algorithms/components/tests/"
      ],
      "performance_sentinels": [
        "artifacts/perf/BASELINE_BFS_V1.md",
        "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      ],
      "compatibility_risks": [
        "tie-break drift",
        "algorithmic complexity DOS on hostile dense graphs"
      ],
      "behavior_region_map": [
        {
          "region_id": "P2C005-R1",
          "pathway": "normal",
          "legacy_anchor_refs": [
            "networkx/algorithms/shortest_paths/weighted.py:41-123",
            "networkx/algorithms/shortest_paths/weighted.py:393-430",
            "networkx/algorithms/shortest_paths/weighted.py:784-907"
          ],
          "symbols": [
            "_weight_function",
            "dijkstra_path",
            "single_source_dijkstra",
            "_dijkstra_multisource"
          ],
          "behavior_note": "Weighted shortest-path entrypoints and multisource queue expansion preserve deterministic distance/path behavior, including stable predecessor-path reconstruction for equal-cost frontier expansion.",
          "compatibility_policy": "strict mode preserves weighted shortest-path outputs and tie-break ordering exactly",
          "downstream_contract_rows": [
            "Input Contract: packet operations",
            "Output Contract: algorithm/state result",
            "Determinism Commitments: stable traversal and output ordering"
          ],
          "planned_oracle_tests": [
            "networkx/algorithms/shortest_paths/tests/test_weighted.py:113-198",
            "networkx/algorithms/shortest_paths/tests/test_weighted.py:271-330"
          ]
        },
        {
          "region_id": "P2C005-R2",
          "pathway": "edge",
          "legacy_anchor_refs": [
            "networkx/algorithms/shortest_paths/weighted.py:41-78",
            "networkx/algorithms/shortest_paths/weighted.py:862-885",
            "networkx/algorithms/shortest_paths/weighted.py:2310-2380"
          ],
          "symbols": [
            "_weight_function",
            "_dijkstra_multisource",
            "bidirectional_dijkstra"
          ],
          "behavior_note": "Multigraph weight selection uses minimum parallel-edge cost and hidden-edge semantics (weight callback returns None) are handled deterministically without accidental frontier drift.",
          "compatibility_policy": "retain legacy multigraph minimum-weight and hidden-edge semantics across all weighted APIs",
          "downstream_contract_rows": [
            "Input Contract: compatibility mode",
            "Output Contract: algorithm/state result",
            "Strict/Hardened Divergence: strict no repair heuristics"
          ],
          "planned_oracle_tests": [
            "networkx/algorithms/shortest_paths/tests/test_weighted.py:199-241",
            "networkx/algorithms/shortest_paths/tests/test_weighted.py:316-329",
            "networkx/algorithms/shortest_paths/tests/test_weighted.py:358-388"
          ]
        },
        {
          "region_id": "P2C005-R3",
          "pathway": "adversarial",
          "legacy_anchor_refs": [
            "networkx/algorithms/shortest_paths/weighted.py:1493-1510",
            "networkx/algorithms/shortest_paths/weighted.py:1514-1640",
            "networkx/algorithms/shortest_paths/weighted.py:2280-2306"
          ],
          "symbols": [
            "bellman_ford_path",
            "single_source_bellman_ford",
            "negative_edge_cycle",
            "bidirectional_dijkstra"
          ],
          "behavior_note": "Negative-cycle detection, contradictory-path guards, and unreachable/absent-node pathways must fail closed with explicit ValueError/NodeNotFound/NetworkXUnbounded envelopes.",
          "compatibility_policy": "strict fail-closed on negative-cycle and malformed-source conditions; no silent repair",
          "downstream_contract_rows": [
            "Error Contract: malformed input affecting compatibility",
            "Error Contract: unknown incompatible feature",
            "Strict/Hardened Divergence: hardened bounded recovery only when allowlisted"
          ],
          "planned_oracle_tests": [
            "networkx/algorithms/shortest_paths/tests/test_weighted.py:245-347",
            "networkx/algorithms/shortest_paths/tests/test_weighted.py:533-610",
            "networkx/algorithms/shortest_paths/tests/test_weighted.py:872-889"
          ]
        },
        {
          "region_id": "P2C005-R4",
          "pathway": "centrality-components",
          "legacy_anchor_refs": [
            "networkx/algorithms/centrality/degree_alg.py:10-50",
            "networkx/algorithms/centrality/closeness.py:14-136",
            "networkx/algorithms/components/connected.py:18-149"
          ],
          "symbols": [
            "degree_centrality",
            "closeness_centrality",
            "connected_components",
            "number_connected_components"
          ],
          "behavior_note": "Degree/closeness/component calculations keep deterministic normalization and traversal semantics, including closeness inward-distance policy for directed graphs and stable component partition outputs.",
          "compatibility_policy": "preserve legacy normalization and directed-distance orientation semantics exactly",
          "downstream_contract_rows": [
            "Output Contract: algorithm/state result",
            "Determinism Commitments: stable traversal and output ordering",
            "Input Contract: packet operations"
          ],
          "planned_oracle_tests": [
            "networkx/algorithms/centrality/tests/test_degree_centrality.py:50-102",
            "networkx/algorithms/centrality/tests/test_closeness_centrality.py:18-37",
            "networkx/algorithms/centrality/tests/test_closeness_centrality.py:178-197",
            "networkx/algorithms/components/tests/test_connected.py:64-111"
          ]
        },
        {
          "region_id": "P2C005-R5",
          "pathway": "adversarial-dispatch-loopback",
          "legacy_anchor_refs": [
            "networkx/algorithms/components/connected.py:16-47",
            "networkx/algorithms/components/tests/test_connected.py:75-97"
          ],
          "symbols": [
            "connected_components"
          ],
          "behavior_note": "Dispatchable-loopback execution for connected-components raises deterministic import failures when unknown backends are configured, preventing ambiguous backend fallback.",
          "compatibility_policy": "fail closed for unregistered backends while preserving loopback fast-path determinism",
          "downstream_contract_rows": [
            "Error Contract: unknown incompatible feature",
            "Input Contract: compatibility mode",
            "Determinism Commitments: stable traversal and output ordering"
          ],
          "planned_oracle_tests": [
            "networkx/algorithms/components/tests/test_connected.py:75-97",
            "networkx/algorithms/components/tests/test_connected.py:124-130"
          ]
        }
      ],
      "raptorq_artifacts": {
        "legacy_anchor_map": "artifacts/phase2c/FNX-P2C-005/legacy_anchor_map.md",
        "contract_table": "artifacts/phase2c/FNX-P2C-005/contract_table.md",
        "fixture_manifest": "artifacts/phase2c/FNX-P2C-005/fixture_manifest.json",
        "parity_gate": "artifacts/phase2c/FNX-P2C-005/parity_gate.yaml",
        "risk_note": "artifacts/phase2c/FNX-P2C-005/risk_note.md",
        "parity_report": "artifacts/phase2c/FNX-P2C-005/parity_report.json",
        "raptorq_sidecar": "artifacts/phase2c/FNX-P2C-005/parity_report.raptorq.json",
        "decode_proof": "artifacts/phase2c/FNX-P2C-005/parity_report.decode_proof.json"
      },
      "invariants": [
        {
          "invariant_id": "FNX-P2C-005-I1",
          "statement": "Shortest-path and algorithm wave output contract is deterministic and parity-preserving.",
          "behavioral_boundary": "FNX-P2C-005 scoped APIs only.",
          "legacy_ambiguity": "equal-weight multi-path tie-breaks",
          "policy_decision": "canonical path comparison by lexical node sequence",
          "compatibility_rationale": "locks observable results under adversarial equal-weight graphs",
          "verification_hooks": {
            "unit": [
              "unit::fnx-p2c-005::contract"
            ],
            "property": [
              "property::fnx-p2c-005::invariants"
            ],
            "differential": [
              "differential::fnx-p2c-005::fixtures"
            ],
            "adversarial": [
              "adversarial::fnx-p2c-005::malformed_inputs"
            ],
            "e2e": [
              "e2e::fnx-p2c-005::golden_journey"
            ]
          }
        }
      ],
      "alien_uplift_contract_card": {
        "ev_score": 2.4,
        "baseline_comparator": "legacy_networkx/main@python3.12",
        "optimization_lever": "priority-queue hot loop allocation reduction",
        "decision_hypothesis": "Apply one lever after profiling, then prove behavior isomorphic before retaining optimization."
      },
      "profile_first_artifacts": {
        "baseline": "artifacts/perf/BASELINE_BFS_V1.md",
        "hotspot": "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "delta": "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      },
      "decision_theoretic_runtime_contract": {
        "states": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "actions": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "loss_model": "minimize compatibility drift + security risk under deterministic constraints",
        "safe_mode_fallback": "fail_closed",
        "fallback_thresholds": {
          "unknown_incompatible_feature": true,
          "risk_probability_full_validate_min": 0.25
        }
      },
      "isomorphism_proof_artifacts": [
        "artifacts/proofs/ISOMORPHISM_PROOF_FNX_P2C_005_V1.md"
      ],
      "structured_logging_evidence": [
        "artifacts/conformance/latest/structured_logs.jsonl",
        "artifacts/conformance/latest/structured_log_emitter_normalization_report.json",
        "artifacts/conformance/latest/telemetry_dependent_unblock_matrix_v1.json"
      ],
      "packet_boundary_threat_matrix": [
        {
          "threat_id": "P2C005-TM-1",
          "threat_class": "parser_abuse",
          "strict_mode_response": "Fail-closed on malformed weighted-path request payloads and invalid source/target selectors.",
          "hardened_mode_response": "Fail-closed with bounded diagnostics and defensive parse recovery before deterministic abort.",
          "mitigations": [
            "weighted request schema checks",
            "source/target existence guards",
            "malformed payload fixtures"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-005/risk_note.md",
          "adversarial_fixture_hooks": [
            "algorithm_request_malformed_payload"
          ],
          "crash_triage_taxonomy": [
            "shortest_path.parse.malformed_payload",
            "shortest_path.parse.invalid_source_target"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment",
            "defensive_parse_recovery"
          ],
          "compatibility_boundary": "weighted request parse boundary"
        },
        {
          "threat_id": "P2C005-TM-2",
          "threat_class": "metadata_ambiguity",
          "strict_mode_response": "Fail-closed on ambiguous weight metadata, hidden-edge callbacks, or conflicting route hints.",
          "hardened_mode_response": "Quarantine unsupported metadata and preserve deterministic weighted-route semantics.",
          "mitigations": [
            "weight metadata precedence table",
            "hidden-edge callback contract checks",
            "metadata drift classification"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-005/contract_table.md",
          "adversarial_fixture_hooks": [
            "algorithm_conflicting_weight_metadata"
          ],
          "crash_triage_taxonomy": [
            "shortest_path.metadata.ambiguous_weight_selector",
            "shortest_path.metadata.hidden_edge_callback_conflict"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment",
            "quarantine_of_unsupported_metadata"
          ],
          "compatibility_boundary": "weighted metadata normalization boundary"
        },
        {
          "threat_id": "P2C005-TM-3",
          "threat_class": "version_skew",
          "strict_mode_response": "Fail-closed on unsupported algorithm contract versions.",
          "hardened_mode_response": "Reject incompatible version envelopes with deterministic compatibility diagnostics.",
          "mitigations": [
            "algorithm contract version pinning",
            "versioned fixture bundle checks",
            "compatibility matrix probes"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-005/parity_gate.yaml",
          "adversarial_fixture_hooks": [
            "algorithm_contract_version_skew"
          ],
          "crash_triage_taxonomy": [
            "shortest_path.version.unsupported_contract_envelope",
            "shortest_path.version.contract_mismatch"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment"
          ],
          "compatibility_boundary": "algorithm contract version envelope boundary"
        },
        {
          "threat_id": "P2C005-TM-4",
          "threat_class": "resource_exhaustion",
          "strict_mode_response": "Fail-closed when weighted frontier expansion exceeds strict complexity budgets.",
          "hardened_mode_response": "Apply bounded resource clamps and reject once deterministic thresholds are exceeded.",
          "mitigations": [
            "frontier expansion ratio guards",
            "priority-queue work caps",
            "runtime tail budget sentinels"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-005/parity_gate.yaml",
          "adversarial_fixture_hooks": [
            "shortest_path_frontier_blowup"
          ],
          "crash_triage_taxonomy": [
            "shortest_path.resource.frontier_budget_exceeded",
            "shortest_path.resource.priority_queue_cap_exceeded"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment",
            "bounded_resource_clamp"
          ],
          "compatibility_boundary": "weighted frontier expansion budget boundary"
        },
        {
          "threat_id": "P2C005-TM-5",
          "threat_class": "state_corruption",
          "strict_mode_response": "Fail-closed when path witness, predecessor state, or component route invariants drift.",
          "hardened_mode_response": "Reset transient route state and fail-closed with deterministic incident evidence.",
          "mitigations": [
            "witness invariant checkpoints",
            "predecessor map consistency checks",
            "state-reset replay hooks"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-005/contract_table.md",
          "adversarial_fixture_hooks": [
            "shortest_path_witness_state_break"
          ],
          "crash_triage_taxonomy": [
            "shortest_path.state.witness_invariant_break",
            "shortest_path.state.predecessor_state_mismatch"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment"
          ],
          "compatibility_boundary": "path witness and route-state determinism boundary"
        },
        {
          "threat_id": "P2C005-TM-6",
          "threat_class": "algorithmic_complexity_dos",
          "strict_mode_response": "Fail-closed on adversarial graph classes outside strict complexity envelopes.",
          "hardened_mode_response": "Apply bounded admission checks and deterministic tie-break normalization before rejection.",
          "mitigations": [
            "adversarial graph taxonomy gates",
            "complexity witness artifacts",
            "runtime tail regression sentinels"
          ],
          "evidence_artifact": "artifacts/phase2c/FNX-P2C-005/risk_note.md",
          "adversarial_fixture_hooks": [
            "shortest_path_lollipop_and_barbell_stressor"
          ],
          "crash_triage_taxonomy": [
            "shortest_path.complexity.hostile_graph_class",
            "shortest_path.complexity.tail_budget_exceeded"
          ],
          "hardened_allowlisted_categories": [
            "bounded_diagnostic_enrichment",
            "bounded_resource_clamp",
            "deterministic_tie_break_normalization"
          ],
          "compatibility_boundary": "hostile graph complexity admission boundary"
        }
      ],
      "compatibility_boundary_matrix": [
        {
          "boundary_id": "P2C005-CB-1",
          "strict_parity_obligation": "Malformed weighted request payloads and invalid source/target selectors fail closed.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment",
            "defensive_parse_recovery"
          ],
          "fail_closed_default": "fail_closed_on_malformed_weighted_request",
          "evidence_hooks": [
            "networkx/algorithms/shortest_paths/tests/test_weighted.py:156-170",
            "artifacts/phase2c/FNX-P2C-005/risk_note.md#packet-threat-matrix"
          ]
        },
        {
          "boundary_id": "P2C005-CB-2",
          "strict_parity_obligation": "Weight metadata precedence and hidden-edge callback semantics remain deterministic.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment",
            "quarantine_of_unsupported_metadata"
          ],
          "fail_closed_default": "fail_closed_on_ambiguous_weight_metadata",
          "evidence_hooks": [
            "networkx/algorithms/shortest_paths/tests/test_weighted.py:199-241",
            "artifacts/phase2c/FNX-P2C-005/contract_table.md#input-contract"
          ]
        },
        {
          "boundary_id": "P2C005-CB-3",
          "strict_parity_obligation": "Unsupported algorithm contract/version envelopes are rejected deterministically.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment"
          ],
          "fail_closed_default": "fail_closed_on_algorithm_version_skew",
          "evidence_hooks": [
            "networkx/algorithms/shortest_paths/tests/test_weighted.py:331-347",
            "artifacts/phase2c/FNX-P2C-005/parity_gate.yaml"
          ]
        },
        {
          "boundary_id": "P2C005-CB-4",
          "strict_parity_obligation": "Weighted frontier growth remains within strict complexity budgets.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment",
            "bounded_resource_clamp",
            "deterministic_tie_break_normalization"
          ],
          "fail_closed_default": "fail_closed_when_weighted_frontier_budget_exhausted",
          "evidence_hooks": [
            "artifacts/phase2c/FNX-P2C-005/parity_gate.yaml",
            "artifacts/perf/phase2c/perf_regression_gate_report_v1.json"
          ]
        },
        {
          "boundary_id": "P2C005-CB-5",
          "strict_parity_obligation": "Negative-cycle and contradictory-path states never emit finite shortest-path witnesses.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment"
          ],
          "fail_closed_default": "fail_closed_on_negative_cycle_or_contradictory_path",
          "evidence_hooks": [
            "networkx/algorithms/shortest_paths/tests/test_weighted.py:533-620",
            "artifacts/phase2c/FNX-P2C-005/contract_table.md#machine-checkable-invariant-matrix"
          ]
        },
        {
          "boundary_id": "P2C005-CB-6",
          "strict_parity_obligation": "Connected-components backend loopback and directed-input boundaries fail closed.",
          "hardened_allowlisted_deviation_categories": [
            "bounded_diagnostic_enrichment"
          ],
          "fail_closed_default": "fail_closed_on_components_backend_or_graph_type_violation",
          "evidence_hooks": [
            "networkx/algorithms/components/tests/test_connected.py:75-130",
            "artifacts/phase2c/FNX-P2C-005/risk_note.md#compatibility-boundary-matrix"
          ]
        }
      ],
      "module_boundary_skeleton": [
        {
          "boundary_id": "P2C005-MB-1",
          "crate": "fnx-algorithms",
          "module_path": "crates/fnx-algorithms/src/weighted_route_policy.rs",
          "public_seam": "pub trait WeightedRoutePlanner",
          "internal_ownership": "weighted-route dispatch preflight, source/target existence checks, and weight-selector normalization",
          "legacy_compat_surface": "_weight_function / dijkstra_path / single_source_dijkstra",
          "threat_boundary_refs": [
            "P2C005-CB-1",
            "P2C005-CB-2",
            "P2C005-CB-3"
          ],
          "compile_check": "cargo check -p fnx-algorithms",
          "parallel_owner_scope": "weighted-route preflight and selector policy only"
        },
        {
          "boundary_id": "P2C005-MB-2",
          "crate": "fnx-algorithms",
          "module_path": "crates/fnx-algorithms/src/weighted_frontier_engine.rs",
          "public_seam": "pub struct WeightedFrontierEngine",
          "internal_ownership": "priority-queue frontier expansion, predecessor reconstruction, multigraph min-edge selection, and deterministic tie-break ordering",
          "legacy_compat_surface": "_dijkstra_multisource / bidirectional_dijkstra / predecessor maps",
          "threat_boundary_refs": [
            "P2C005-CB-2",
            "P2C005-CB-4",
            "P2C005-CB-5"
          ],
          "compile_check": "cargo test -p fnx-algorithms weighted_shortest_paths -- --nocapture",
          "parallel_owner_scope": "frontier expansion and tie-break semantics only"
        },
        {
          "boundary_id": "P2C005-MB-3",
          "crate": "fnx-algorithms",
          "module_path": "crates/fnx-algorithms/src/centrality_components_kernel.rs",
          "public_seam": "pub trait CentralityComponentsKernel",
          "internal_ownership": "degree/closeness normalization, directed-orientation semantics, and connected-components boundary enforcement",
          "legacy_compat_surface": "degree_centrality / closeness_centrality / connected_components",
          "threat_boundary_refs": [
            "P2C005-CB-5",
            "P2C005-CB-6"
          ],
          "compile_check": "cargo check -p fnx-algorithms --all-targets",
          "parallel_owner_scope": "centrality/components semantics only"
        },
        {
          "boundary_id": "P2C005-MB-4",
          "crate": "fnx-runtime",
          "module_path": "crates/fnx-runtime/src/hardened_guardrails.rs",
          "public_seam": "pub struct HardenedAlgorithmGuardrails",
          "internal_ownership": "allowlisted hardened deviations, deterministic audit envelopes, and fail-closed policy override rejection",
          "legacy_compat_surface": "strict/hardened compatibility envelope for weighted shortest-path, centrality, and components pathways",
          "threat_boundary_refs": [
            "P2C005-CB-1",
            "P2C005-CB-4",
            "P2C005-CB-6"
          ],
          "compile_check": "cargo check -p fnx-runtime --all-targets",
          "parallel_owner_scope": "hardened diagnostics/audit policy only"
        }
      ],
      "implementation_sequence": [
        {
          "checkpoint_id": "P2C005-SEQ-1",
          "order": 1,
          "depends_on": [],
          "objective": "Land compile-checkable weighted-route and centrality/components seams before behavior changes.",
          "modules_touched": [
            "crates/fnx-algorithms/src/weighted_route_policy.rs",
            "crates/fnx-algorithms/src/centrality_components_kernel.rs"
          ],
          "verification_entrypoints": [
            "unit::fnx-p2c-005::boundary_shape",
            "cargo check -p fnx-algorithms"
          ],
          "structured_log_hooks": [
            "algorithms.boundary.weighted_route_ready",
            "algorithms.boundary.centrality_components_ready"
          ],
          "risk_checkpoint": "fail if module seam ownership is ambiguous"
        },
        {
          "checkpoint_id": "P2C005-SEQ-2",
          "order": 2,
          "depends_on": [
            "P2C005-SEQ-1"
          ],
          "objective": "Implement strict weighted-route dispatch parity and malformed-input/source fail-closed boundaries.",
          "modules_touched": [
            "crates/fnx-algorithms/src/weighted_route_policy.rs",
            "crates/fnx-algorithms/src/lib.rs"
          ],
          "verification_entrypoints": [
            "networkx/algorithms/shortest_paths/tests/test_weighted.py:113-241",
            "differential::fnx-p2c-005::weighted_dispatch"
          ],
          "structured_log_hooks": [
            "algorithms.strict.route_decision",
            "algorithms.fail_closed.weighted_input"
          ],
          "risk_checkpoint": "halt if strict mismatch budget deviates from zero"
        },
        {
          "checkpoint_id": "P2C005-SEQ-3",
          "order": 3,
          "depends_on": [
            "P2C005-SEQ-2"
          ],
          "objective": "Implement deterministic frontier expansion, tie-break policy, and negative-cycle fail-closed envelopes.",
          "modules_touched": [
            "crates/fnx-algorithms/src/weighted_frontier_engine.rs",
            "crates/fnx-algorithms/src/bellman_ford_guard.rs"
          ],
          "verification_entrypoints": [
            "networkx/algorithms/shortest_paths/tests/test_weighted.py:271-347",
            "networkx/algorithms/shortest_paths/tests/test_weighted.py:533-620",
            "property::fnx-p2c-005::invariants"
          ],
          "structured_log_hooks": [
            "algorithms.frontier.tie_break_selected",
            "algorithms.fail_closed.negative_cycle"
          ],
          "risk_checkpoint": "fail on path witness mismatch or non-deterministic predecessor ordering"
        },
        {
          "checkpoint_id": "P2C005-SEQ-4",
          "order": 4,
          "depends_on": [
            "P2C005-SEQ-2",
            "P2C005-SEQ-3"
          ],
          "objective": "Lock centrality/components semantics, directed-orientation rules, and backend loopback failure boundaries.",
          "modules_touched": [
            "crates/fnx-algorithms/src/centrality_components_kernel.rs",
            "crates/fnx-algorithms/src/components_dispatch_bridge.rs"
          ],
          "verification_entrypoints": [
            "networkx/algorithms/centrality/tests/test_closeness_centrality.py:18-197",
            "networkx/algorithms/components/tests/test_connected.py:64-130"
          ],
          "structured_log_hooks": [
            "algorithms.centrality.orientation_locked",
            "algorithms.components.backend_guard"
          ],
          "risk_checkpoint": "reject directed/backend bypass paths that violate fail-closed policy"
        },
        {
          "checkpoint_id": "P2C005-SEQ-5",
          "order": 5,
          "depends_on": [
            "P2C005-SEQ-4"
          ],
          "objective": "Layer hardened allowlisted controls and run readiness/e2e/perf gates to finalize packet evidence.",
          "modules_touched": [
            "crates/fnx-runtime/src/hardened_guardrails.rs",
            "crates/fnx-conformance/tests/phase2c_packet_readiness_gate.rs",
            "scripts/run_phase2c_readiness_e2e.sh"
          ],
          "verification_entrypoints": [
            "adversarial::fnx-p2c-005::algorithmic_complexity",
            "cargo test -p fnx-conformance --test phase2c_packet_readiness_gate"
          ],
          "structured_log_hooks": [
            "algorithms.hardened.allowlisted_category",
            "algorithms.readiness.gate_result"
          ],
          "risk_checkpoint": "stop on any strict/hardened parity gate mismatch"
        }
      ],
      "verification_entrypoints": [
        {
          "stage": "unit",
          "harness": "unit::fnx-p2c-005::contract",
          "structured_log_hook": "algorithms.unit.contract_asserted",
          "replay_metadata_fields": [
            "packet_id",
            "algorithm_family",
            "source_target_pair",
            "strict_mode"
          ],
          "failure_forensics_artifact": "artifacts/conformance/latest/structured_logs.jsonl"
        },
        {
          "stage": "property",
          "harness": "property::fnx-p2c-005::invariants",
          "structured_log_hook": "algorithms.property.invariant_checkpoint",
          "replay_metadata_fields": [
            "seed",
            "graph_fingerprint",
            "tie_break_policy",
            "invariant_id"
          ],
          "failure_forensics_artifact": "artifacts/conformance/latest/structured_log_emitter_normalization_report.json"
        },
        {
          "stage": "differential",
          "harness": "differential::fnx-p2c-005::fixtures",
          "structured_log_hook": "algorithms.diff.oracle_comparison",
          "replay_metadata_fields": [
            "fixture_id",
            "oracle_ref",
            "algorithm_signature",
            "mismatch_count"
          ],
          "failure_forensics_artifact": "artifacts/phase2c/FNX-P2C-005/parity_report.json"
        },
        {
          "stage": "e2e",
          "harness": "e2e::fnx-p2c-005::golden_journey",
          "structured_log_hook": "algorithms.e2e.replay_emitted",
          "replay_metadata_fields": [
            "scenario_id",
            "thread_id",
            "trace_id",
            "forensics_bundle"
          ],
          "failure_forensics_artifact": "artifacts/conformance/latest/telemetry_dependent_unblock_matrix_v1.json"
        }
      ]
    },
    {
      "packet_id": "FNX-P2C-006",
      "legacy_paths": [
        "networkx/readwrite/edgelist.py",
        "networkx/readwrite/json_graph/"
      ],
      "legacy_symbols": [
        "generate_edgelist",
        "write_edgelist",
        "parse_edgelist",
        "read_edgelist"
      ],
      "graph_mutation_contract": "Mutations preserve deterministic adjacency semantics and observable output parity.",
      "view_cache_contract": "View/cache interactions remain deterministic with explicit revision invalidation.",
      "dispatch_backend_contract": "Backend route selection is deterministic and fail-closed for unknown incompatible features.",
      "conversion_readwrite_contract": "Conversion/readwrite flows preserve scoped legacy contract across strict and hardened modes.",
      "error_contract": "Strict fail-closed; hardened bounded recoveries only when allowlisted.",
      "strict_mode_policy": "Exact scoped compatibility with legacy-observable outputs.",
      "hardened_mode_policy": "Same API contract plus bounded defensive guards and deterministic recovery evidence.",
      "excluded_scope": [
        "legacy implementation reuse (clean-room enforcement)",
        "unscoped upstream APIs not yet admitted by packet roadmap"
      ],
      "oracle_tests": [
        "networkx/readwrite/tests/test_edgelist.py"
      ],
      "performance_sentinels": [
        "artifacts/perf/BASELINE_BFS_V1.md",
        "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      ],
      "compatibility_risks": [
        "parser ambiguity",
        "serialization round-trip drift"
      ],
      "behavior_region_map": [],
      "raptorq_artifacts": {
        "legacy_anchor_map": "artifacts/phase2c/FNX-P2C-006/legacy_anchor_map.md",
        "contract_table": "artifacts/phase2c/FNX-P2C-006/contract_table.md",
        "fixture_manifest": "artifacts/phase2c/FNX-P2C-006/fixture_manifest.json",
        "parity_gate": "artifacts/phase2c/FNX-P2C-006/parity_gate.yaml",
        "risk_note": "artifacts/phase2c/FNX-P2C-006/risk_note.md",
        "parity_report": "artifacts/phase2c/FNX-P2C-006/parity_report.json",
        "raptorq_sidecar": "artifacts/phase2c/FNX-P2C-006/parity_report.raptorq.json",
        "decode_proof": "artifacts/phase2c/FNX-P2C-006/parity_report.decode_proof.json"
      },
      "invariants": [
        {
          "invariant_id": "FNX-P2C-006-I1",
          "statement": "Read/write edgelist and json graph output contract is deterministic and parity-preserving.",
          "behavioral_boundary": "FNX-P2C-006 scoped APIs only.",
          "legacy_ambiguity": "malformed token tolerance in edgelist parsing",
          "policy_decision": "strict reject; hardened bounded recovery with warnings",
          "compatibility_rationale": "strict keeps parity; hardened remains API-compatible and auditable",
          "verification_hooks": {
            "unit": [
              "unit::fnx-p2c-006::contract"
            ],
            "property": [
              "property::fnx-p2c-006::invariants"
            ],
            "differential": [
              "differential::fnx-p2c-006::fixtures"
            ],
            "adversarial": [
              "adversarial::fnx-p2c-006::malformed_inputs"
            ],
            "e2e": [
              "e2e::fnx-p2c-006::golden_journey"
            ]
          }
        }
      ],
      "alien_uplift_contract_card": {
        "ev_score": 2.4,
        "baseline_comparator": "legacy_networkx/main@python3.12",
        "optimization_lever": "streaming parse buffer reuse",
        "decision_hypothesis": "Apply one lever after profiling, then prove behavior isomorphic before retaining optimization."
      },
      "profile_first_artifacts": {
        "baseline": "artifacts/perf/BASELINE_BFS_V1.md",
        "hotspot": "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "delta": "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      },
      "decision_theoretic_runtime_contract": {
        "states": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "actions": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "loss_model": "minimize compatibility drift + security risk under deterministic constraints",
        "safe_mode_fallback": "fail_closed",
        "fallback_thresholds": {
          "unknown_incompatible_feature": true,
          "risk_probability_full_validate_min": 0.25
        }
      },
      "isomorphism_proof_artifacts": [
        "artifacts/proofs/ISOMORPHISM_PROOF_FNX_P2C_006_V1.md"
      ],
      "structured_logging_evidence": [
        "artifacts/conformance/latest/structured_logs.jsonl",
        "artifacts/conformance/latest/structured_log_emitter_normalization_report.json",
        "artifacts/conformance/latest/telemetry_dependent_unblock_matrix_v1.json"
      ]
    },
    {
      "packet_id": "FNX-P2C-007",
      "legacy_paths": [
        "networkx/generators/"
      ],
      "legacy_symbols": [
        "path_graph",
        "cycle_graph",
        "complete_graph",
        "empty_graph"
      ],
      "graph_mutation_contract": "Mutations preserve deterministic adjacency semantics and observable output parity.",
      "view_cache_contract": "View/cache interactions remain deterministic with explicit revision invalidation.",
      "dispatch_backend_contract": "Backend route selection is deterministic and fail-closed for unknown incompatible features.",
      "conversion_readwrite_contract": "Conversion/readwrite flows preserve scoped legacy contract across strict and hardened modes.",
      "error_contract": "Strict fail-closed; hardened bounded recoveries only when allowlisted.",
      "strict_mode_policy": "Exact scoped compatibility with legacy-observable outputs.",
      "hardened_mode_policy": "Same API contract plus bounded defensive guards and deterministic recovery evidence.",
      "excluded_scope": [
        "legacy implementation reuse (clean-room enforcement)",
        "unscoped upstream APIs not yet admitted by packet roadmap"
      ],
      "oracle_tests": [
        "networkx/generators/tests/"
      ],
      "performance_sentinels": [
        "artifacts/perf/BASELINE_BFS_V1.md",
        "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      ],
      "compatibility_risks": [
        "seed interpretation drift",
        "edge emission order drift"
      ],
      "behavior_region_map": [],
      "raptorq_artifacts": {
        "legacy_anchor_map": "artifacts/phase2c/FNX-P2C-007/legacy_anchor_map.md",
        "contract_table": "artifacts/phase2c/FNX-P2C-007/contract_table.md",
        "fixture_manifest": "artifacts/phase2c/FNX-P2C-007/fixture_manifest.json",
        "parity_gate": "artifacts/phase2c/FNX-P2C-007/parity_gate.yaml",
        "risk_note": "artifacts/phase2c/FNX-P2C-007/risk_note.md",
        "parity_report": "artifacts/phase2c/FNX-P2C-007/parity_report.json",
        "raptorq_sidecar": "artifacts/phase2c/FNX-P2C-007/parity_report.raptorq.json",
        "decode_proof": "artifacts/phase2c/FNX-P2C-007/parity_report.decode_proof.json"
      },
      "invariants": [
        {
          "invariant_id": "FNX-P2C-007-I1",
          "statement": "Generator first wave output contract is deterministic and parity-preserving.",
          "behavioral_boundary": "FNX-P2C-007 scoped APIs only.",
          "legacy_ambiguity": "large-cycle edge emission ordering",
          "policy_decision": "canonical cycle closure order",
          "compatibility_rationale": "prevents output-order drift across environments",
          "verification_hooks": {
            "unit": [
              "unit::fnx-p2c-007::contract"
            ],
            "property": [
              "property::fnx-p2c-007::invariants"
            ],
            "differential": [
              "differential::fnx-p2c-007::fixtures"
            ],
            "adversarial": [
              "adversarial::fnx-p2c-007::malformed_inputs"
            ],
            "e2e": [
              "e2e::fnx-p2c-007::golden_journey"
            ]
          }
        }
      ],
      "alien_uplift_contract_card": {
        "ev_score": 2.4,
        "baseline_comparator": "legacy_networkx/main@python3.12",
        "optimization_lever": "pre-sized edge emission buffers",
        "decision_hypothesis": "Apply one lever after profiling, then prove behavior isomorphic before retaining optimization."
      },
      "profile_first_artifacts": {
        "baseline": "artifacts/perf/BASELINE_BFS_V1.md",
        "hotspot": "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "delta": "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      },
      "decision_theoretic_runtime_contract": {
        "states": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "actions": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "loss_model": "minimize compatibility drift + security risk under deterministic constraints",
        "safe_mode_fallback": "fail_closed",
        "fallback_thresholds": {
          "unknown_incompatible_feature": true,
          "risk_probability_full_validate_min": 0.25
        }
      },
      "isomorphism_proof_artifacts": [
        "artifacts/proofs/ISOMORPHISM_PROOF_FNX_P2C_007_V1.md"
      ],
      "structured_logging_evidence": [
        "artifacts/conformance/latest/structured_logs.jsonl",
        "artifacts/conformance/latest/structured_log_emitter_normalization_report.json",
        "artifacts/conformance/latest/telemetry_dependent_unblock_matrix_v1.json"
      ]
    },
    {
      "packet_id": "FNX-P2C-008",
      "legacy_paths": [
        "networkx/utils/configs.py",
        "networkx/lazy_imports.py"
      ],
      "legacy_symbols": [
        "_dispatchable",
        "config",
        "lazy imports"
      ],
      "graph_mutation_contract": "Mutations preserve deterministic adjacency semantics and observable output parity.",
      "view_cache_contract": "View/cache interactions remain deterministic with explicit revision invalidation.",
      "dispatch_backend_contract": "Backend route selection is deterministic and fail-closed for unknown incompatible features.",
      "conversion_readwrite_contract": "Conversion/readwrite flows preserve scoped legacy contract across strict and hardened modes.",
      "error_contract": "Strict fail-closed; hardened bounded recoveries only when allowlisted.",
      "strict_mode_policy": "Exact scoped compatibility with legacy-observable outputs.",
      "hardened_mode_policy": "Same API contract plus bounded defensive guards and deterministic recovery evidence.",
      "excluded_scope": [
        "legacy implementation reuse (clean-room enforcement)",
        "unscoped upstream APIs not yet admitted by packet roadmap"
      ],
      "oracle_tests": [
        "utils/runtime behavior tests"
      ],
      "performance_sentinels": [
        "artifacts/perf/BASELINE_BFS_V1.md",
        "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      ],
      "compatibility_risks": [
        "environment-based behavior skew",
        "optional dependency fallback ambiguity"
      ],
      "behavior_region_map": [],
      "raptorq_artifacts": {
        "legacy_anchor_map": "artifacts/phase2c/FNX-P2C-008/legacy_anchor_map.md",
        "contract_table": "artifacts/phase2c/FNX-P2C-008/contract_table.md",
        "fixture_manifest": "artifacts/phase2c/FNX-P2C-008/fixture_manifest.json",
        "parity_gate": "artifacts/phase2c/FNX-P2C-008/parity_gate.yaml",
        "risk_note": "artifacts/phase2c/FNX-P2C-008/risk_note.md",
        "parity_report": "artifacts/phase2c/FNX-P2C-008/parity_report.json",
        "raptorq_sidecar": "artifacts/phase2c/FNX-P2C-008/parity_report.raptorq.json",
        "decode_proof": "artifacts/phase2c/FNX-P2C-008/parity_report.decode_proof.json"
      },
      "invariants": [
        {
          "invariant_id": "FNX-P2C-008-I1",
          "statement": "Runtime config and optional dependencies output contract is deterministic and parity-preserving.",
          "behavioral_boundary": "FNX-P2C-008 scoped APIs only.",
          "legacy_ambiguity": "optional dependency route preference",
          "policy_decision": "deterministic route ordering plus fail-closed on unknown incompatibility",
          "compatibility_rationale": "preserves safety and reproducibility",
          "verification_hooks": {
            "unit": [
              "unit::fnx-p2c-008::contract"
            ],
            "property": [
              "property::fnx-p2c-008::invariants"
            ],
            "differential": [
              "differential::fnx-p2c-008::fixtures"
            ],
            "adversarial": [
              "adversarial::fnx-p2c-008::malformed_inputs"
            ],
            "e2e": [
              "e2e::fnx-p2c-008::golden_journey"
            ]
          }
        }
      ],
      "alien_uplift_contract_card": {
        "ev_score": 2.4,
        "baseline_comparator": "legacy_networkx/main@python3.12",
        "optimization_lever": "single-pass environment fingerprint canonicalization",
        "decision_hypothesis": "Apply one lever after profiling, then prove behavior isomorphic before retaining optimization."
      },
      "profile_first_artifacts": {
        "baseline": "artifacts/perf/BASELINE_BFS_V1.md",
        "hotspot": "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "delta": "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      },
      "decision_theoretic_runtime_contract": {
        "states": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "actions": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "loss_model": "minimize compatibility drift + security risk under deterministic constraints",
        "safe_mode_fallback": "fail_closed",
        "fallback_thresholds": {
          "unknown_incompatible_feature": true,
          "risk_probability_full_validate_min": 0.25
        }
      },
      "isomorphism_proof_artifacts": [
        "artifacts/proofs/ISOMORPHISM_PROOF_FNX_P2C_008_V1.md"
      ],
      "structured_logging_evidence": [
        "artifacts/conformance/latest/structured_logs.jsonl",
        "artifacts/conformance/latest/structured_log_emitter_normalization_report.json",
        "artifacts/conformance/latest/telemetry_dependent_unblock_matrix_v1.json"
      ]
    },
    {
      "packet_id": "FNX-P2C-009",
      "legacy_paths": [
        "networkx/tests/",
        "networkx/algorithms/tests/"
      ],
      "legacy_symbols": [
        "fixture normalization",
        "differential comparison schema"
      ],
      "graph_mutation_contract": "Mutations preserve deterministic adjacency semantics and observable output parity.",
      "view_cache_contract": "View/cache interactions remain deterministic with explicit revision invalidation.",
      "dispatch_backend_contract": "Backend route selection is deterministic and fail-closed for unknown incompatible features.",
      "conversion_readwrite_contract": "Conversion/readwrite flows preserve scoped legacy contract across strict and hardened modes.",
      "error_contract": "Strict fail-closed; hardened bounded recoveries only when allowlisted.",
      "strict_mode_policy": "Exact scoped compatibility with legacy-observable outputs.",
      "hardened_mode_policy": "Same API contract plus bounded defensive guards and deterministic recovery evidence.",
      "excluded_scope": [
        "legacy implementation reuse (clean-room enforcement)",
        "unscoped upstream APIs not yet admitted by packet roadmap"
      ],
      "oracle_tests": [
        "cross-family differential suites"
      ],
      "performance_sentinels": [
        "artifacts/perf/BASELINE_BFS_V1.md",
        "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      ],
      "compatibility_risks": [
        "fixture routing drift",
        "log schema drift"
      ],
      "behavior_region_map": [],
      "raptorq_artifacts": {
        "legacy_anchor_map": "artifacts/phase2c/FNX-P2C-009/legacy_anchor_map.md",
        "contract_table": "artifacts/phase2c/FNX-P2C-009/contract_table.md",
        "fixture_manifest": "artifacts/phase2c/FNX-P2C-009/fixture_manifest.json",
        "parity_gate": "artifacts/phase2c/FNX-P2C-009/parity_gate.yaml",
        "risk_note": "artifacts/phase2c/FNX-P2C-009/risk_note.md",
        "parity_report": "artifacts/phase2c/FNX-P2C-009/parity_report.json",
        "raptorq_sidecar": "artifacts/phase2c/FNX-P2C-009/parity_report.raptorq.json",
        "decode_proof": "artifacts/phase2c/FNX-P2C-009/parity_report.decode_proof.json"
      },
      "invariants": [
        {
          "invariant_id": "FNX-P2C-009-I1",
          "statement": "Conformance harness corpus wiring output contract is deterministic and parity-preserving.",
          "behavioral_boundary": "FNX-P2C-009 scoped APIs only.",
          "legacy_ambiguity": "fixture family classification drift",
          "policy_decision": "explicit deterministic packet routing table",
          "compatibility_rationale": "ensures stable differential coverage attribution",
          "verification_hooks": {
            "unit": [
              "unit::fnx-p2c-009::contract"
            ],
            "property": [
              "property::fnx-p2c-009::invariants"
            ],
            "differential": [
              "differential::fnx-p2c-009::fixtures"
            ],
            "adversarial": [
              "adversarial::fnx-p2c-009::malformed_inputs"
            ],
            "e2e": [
              "e2e::fnx-p2c-009::golden_journey"
            ]
          }
        }
      ],
      "alien_uplift_contract_card": {
        "ev_score": 2.4,
        "baseline_comparator": "legacy_networkx/main@python3.12",
        "optimization_lever": "single-pass fixture enumeration with stable sort",
        "decision_hypothesis": "Apply one lever after profiling, then prove behavior isomorphic before retaining optimization."
      },
      "profile_first_artifacts": {
        "baseline": "artifacts/perf/BASELINE_BFS_V1.md",
        "hotspot": "artifacts/perf/OPPORTUNITY_MATRIX.md",
        "delta": "artifacts/perf/phase2c/bfs_neighbor_iter_delta.json"
      },
      "decision_theoretic_runtime_contract": {
        "states": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "actions": [
          "allow",
          "full_validate",
          "fail_closed"
        ],
        "loss_model": "minimize compatibility drift + security risk under deterministic constraints",
        "safe_mode_fallback": "fail_closed",
        "fallback_thresholds": {
          "unknown_incompatible_feature": true,
          "risk_probability_full_validate_min": 0.25
        }
      },
      "isomorphism_proof_artifacts": [
        "artifacts/proofs/ISOMORPHISM_PROOF_FNX_P2C_009_V1.md"
      ],
      "structured_logging_evidence": [
        "artifacts/conformance/latest/structured_logs.jsonl",
        "artifacts/conformance/latest/structured_log_emitter_normalization_report.json",
        "artifacts/conformance/latest/telemetry_dependent_unblock_matrix_v1.json"
      ]
    }
  ]
}
