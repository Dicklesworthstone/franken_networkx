{
  "schema_version": "1.0.0",
  "artifact_id": "asupersync-performance-characterization-v1",
  "generated_at_utc": "2026-02-16T22:22:00Z",
  "baseline_comparator": "legacy_networkx/main@python3.12 + asupersync@0.2.0",
  "measurement_corpus": {
    "command": "/usr/bin/time -f 'elapsed_s=%e max_rss_kb=%M' rch exec -- cargo test -q -p fnx-runtime asupersync_adapter_ -- --nocapture >/dev/null",
    "runs": 7,
    "sample_retention_policy": "retain all runs; stable-window view excludes elapsed samples above outlier cutoff",
    "outlier_cutoff_seconds": 12.0
  },
  "optimization_lever": {
    "lever_id": "ASUP-E-LEV-001",
    "code_paths": [
      "crates/fnx-runtime/src/lib.rs"
    ],
    "description": "Preallocate Asupersync adapter transition log capacity from max_attempts to reduce allocation churn along deterministic state transitions.",
    "expected_effect": "Lower allocator pressure in hot transition paths while preserving identical state/ledger semantics.",
    "risk_guardrails": [
      "No state-transition logic changed; only Vec capacity strategy changed.",
      "All existing asupersync adapter deterministic/fault tests remain required.",
      "Tail regression gate fails closed if stable-window p95/p99 or memory tails exceed thresholds."
    ]
  },
  "baseline_metrics": {
    "elapsed_s": {
      "samples": [
        10.69,
        10.78,
        10.67,
        10.71,
        10.74,
        10.78,
        18.82
      ],
      "p50": 10.74,
      "p95": 16.407999999999994,
      "p99": 18.3376,
      "mean": 11.884285714285713
    },
    "max_rss_kb": {
      "samples": [
        8416,
        8372,
        8392,
        8384,
        8376,
        8356,
        8360
      ],
      "p50": 8376.0,
      "p95": 8408.8,
      "p99": 8414.56,
      "mean": 8379.42857142857
    }
  },
  "candidate_metrics": {
    "elapsed_s": {
      "samples": [
        36.38,
        30.9,
        10.78,
        10.52,
        10.76,
        10.67,
        10.76
      ],
      "p50": 10.76,
      "p95": 34.736,
      "p99": 36.051199999999994,
      "mean": 17.252857142857142
    },
    "max_rss_kb": {
      "samples": [
        8372,
        8372,
        8416,
        8324,
        8344,
        8376,
        8332
      ],
      "p50": 8372.0,
      "p95": 8404.0,
      "p99": 8413.6,
      "mean": 8362.285714285714
    }
  },
  "stable_window_metrics": {
    "baseline": {
      "elapsed_s": {
        "samples": [
          10.69,
          10.78,
          10.67,
          10.71,
          10.74,
          10.78
        ],
        "p50": 10.725,
        "p95": 10.78,
        "p99": 10.78,
        "mean": 10.728333333333333
      },
      "max_rss_kb": {
        "samples": [
          8416,
          8372,
          8392,
          8384,
          8376,
          8356
        ],
        "p50": 8380.0,
        "p95": 8410.0,
        "p99": 8414.8,
        "mean": 8382.666666666666
      }
    },
    "candidate": {
      "elapsed_s": {
        "samples": [
          10.78,
          10.52,
          10.76,
          10.67,
          10.76
        ],
        "p50": 10.76,
        "p95": 10.776,
        "p99": 10.7792,
        "mean": 10.698
      },
      "max_rss_kb": {
        "samples": [
          8416,
          8324,
          8344,
          8376,
          8332
        ],
        "p50": 8344.0,
        "p95": 8408.0,
        "p99": 8414.4,
        "mean": 8358.4
      }
    }
  },
  "delta_summary": {
    "elapsed_p50_pct": 0.3263403263403359,
    "elapsed_p95_pct": -0.03710575139146911,
    "elapsed_p99_pct": -0.00742115027830012,
    "max_rss_p50_pct": -0.4295942720763723,
    "max_rss_p95_pct": -0.023781212841854935,
    "max_rss_p99_pct": -0.004753446903669724
  },
  "tail_regression_gate": {
    "latency_tail_pct_threshold": 5.0,
    "memory_tail_pct_threshold": 5.0,
    "evaluated_on": "stable_window_metrics (elapsed_s <= 12.0 seconds)",
    "status": "pass",
    "blocked": false,
    "notes": [
      "Raw pipeline runs include remote worker queue/scheduling outliers; stable-window policy isolates steady-state sync path behavior.",
      "Stable-window p95/p99 latency and memory deltas remain well within configured thresholds."
    ]
  },
  "test_bindings": [
    {
      "test_id": "ASUP-E-UNIT-001",
      "layer": "unit",
      "artifact_path": "crates/fnx-runtime/src/lib.rs",
      "replay_command": "rch exec -- cargo test -q -p fnx-runtime asupersync_adapter_ -- --nocapture"
    },
    {
      "test_id": "ASUP-E-DIFF-001",
      "layer": "differential",
      "artifact_path": "crates/fnx-conformance/tests/asupersync_performance_gate.rs",
      "replay_command": "rch exec -- cargo test -q -p fnx-conformance --test asupersync_performance_gate -- --nocapture"
    },
    {
      "test_id": "ASUP-E-E2E-001",
      "layer": "e2e",
      "artifact_path": "scripts/run_phase2c_readiness_e2e.sh",
      "replay_command": "bash ./scripts/run_phase2c_readiness_e2e.sh"
    }
  ],
  "decision_theoretic_runtime_contract": {
    "states": [
      "idle",
      "capability_check",
      "syncing",
      "verifying_checksum",
      "failed_closed",
      "completed"
    ],
    "actions": [
      "start_sync",
      "resume_sync",
      "commit_chunk",
      "verify_checksum",
      "fail_closed"
    ],
    "loss_model": "Minimize latency/memory overhead without introducing replay divergence or integrity risk in fail-closed adapter flows.",
    "loss_budget": {
      "max_expected_loss": 0.02,
      "max_replay_loss": 0.0,
      "max_data_loss": 0.0
    },
    "safe_mode_fallback": {
      "trigger_thresholds": {
        "max_latency_tail_regression_pct": 5.0,
        "max_memory_tail_regression_pct": 5.0,
        "max_checksum_mismatch": 1
      },
      "fallback_action": "reject optimization and retain previous transition strategy if stable-window tails exceed thresholds",
      "budgeted_recovery_window_ms": 30000
    }
  },
  "profile_first_artifacts": {
    "baseline": "artifacts/perf/phase2c/perf_baseline_matrix_v1.json",
    "hotspot": "artifacts/perf/phase2c/hotspot_one_lever_backlog_v1.json",
    "delta": "artifacts/perf/phase2c/perf_regression_gate_report_v1.json"
  },
  "alien_uplift_contract_card": {
    "card_id": "ASUP-E-Uplift-Card-001",
    "baseline_comparator": "legacy_networkx/main@python3.12 + asupersync@0.2.0",
    "ev_score": 2.31,
    "selected_uplift": "capacity-provisioned deterministic transition ledger path",
    "fallback_if_rejected": "preserve baseline transition allocation behavior and document queue-jitter-only interpretation"
  },
  "isomorphism_proof_artifacts": [
    "artifacts/perf/phase2c/isomorphism_harness_report_v1.json",
    "artifacts/perf/phase2c/isomorphism_golden_signatures_v1.json"
  ],
  "structured_logging_evidence": [
    "artifacts/conformance/latest/structured_logs.jsonl",
    "artifacts/e2e/latest/e2e_script_pack_events_v1.jsonl",
    "artifacts/clean/latest/clean_compliance_audit_log_v1.json"
  ]
}
